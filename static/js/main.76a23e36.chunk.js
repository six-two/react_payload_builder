(this.webpackJsonpreact_payload_builder=this.webpackJsonpreact_payload_builder||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),s=(n(13),n(1)),u=n(2),l=n(3),c=n(5),h=n(4),p=(n(14),function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onMoveUp=a.onMoveUp.bind(Object(l.a)(a)),a.onMoveDown=a.onMoveDown.bind(Object(l.a)(a)),a.onDelete=a.onDelete.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.children,r.a.createElement("div",null,r.a.createElement("input",{type:"button",value:"Up",onClick:this.onMoveUp,disabled:0===this.props.index}),r.a.createElement("input",{type:"button",value:"Down",onClick:this.onMoveDown,disabled:this.props.isLast}),r.a.createElement("input",{type:"button",value:"Delete",onClick:this.onDelete})))}},{key:"onMoveUp",value:function(){this.props.index>0&&this.props.onItemsSwap(this.props.index,this.props.index-1)}},{key:"onMoveDown",value:function(){this.props.isLast||this.props.onItemsSwap(this.props.index,this.props.index+1)}},{key:"onDelete",value:function(){this.props.onItemDelete(this.props.index)}}]),n}(r.a.Component)),v=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={entries:[],nextId:0},a.onItemAdd=a.onItemAdd.bind(Object(l.a)(a)),a.onItemChange=a.onItemChange.bind(Object(l.a)(a)),a.onItemDeleted=a.onItemDeleted.bind(Object(l.a)(a)),a.onItemSwapped=a.onItemSwapped.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Hex builder"),r.a.createElement("ol",null,this.state.entries.map((function(t,n){return r.a.createElement("li",{key:t.key},r.a.createElement(p,{index:n,isLast:n+1===e.state.entries.length,onItemDelete:e.onItemDeleted,onItemsSwap:e.onItemSwapped},r.a.createElement(e.props.entryClass,{index:n,data:t.data,onChange:e.onItemChange})))})),r.a.createElement("li",{key:-1},r.a.createElement("input",{type:"button",value:"Add new element",onClick:this.onItemAdd}))))}},{key:"onItemAdd",value:function(){var e=this.state.entries.slice(),t=this.props.newItemData(e.length),n={key:this.state.nextId,data:t};e.push(n),this.onChange(e,this.state.nextId+1)}},{key:"onItemChange",value:function(e,t){var n=this.state.entries.slice(),a={key:n[e].key,data:t};n[e]=a,this.onChange(n,this.state.nextId)}},{key:"onItemSwapped",value:function(e,t){var n=this.state.entries.slice(),a=n[e];n[e]=n[t],n[t]=a,this.onChange(n,this.state.nextId)}},{key:"onItemDeleted",value:function(e){var t=this.state.entries.slice();t.splice(e,1),this.onChange(t,this.state.nextId)}},{key:"onChange",value:function(e,t){this.setState({entries:e,nextId:t}),this.props.onChange(e)}}]),n}(r.a.Component),d=function(){function e(t){Object(s.a)(this,e),this.str=void 0,this.bytes=void 0,this.str=t,this.bytes=[],this.updateByteCount()}return Object(u.a)(e,[{key:"updateByteCount",value:function(){var e=0;for(this.bytes=[];e<this.str.length;)if("\\"===this.str[e]&&e+1<this.str.length&&"x"===this.str[e+1]){if(isNaN(parseInt(this.str[e+2],16))||isNaN(parseInt(this.str[e+3],16)))throw new Error("Not a valid hex escape: '"+this.str.slice(e+2,e+4)+"'");this.bytes.push(this.str.slice(e,e+4)),e+=4}else this.bytes.push(this.str[e]),e+=1}},{key:"getReversed",value:function(){for(var t="",n=this.bytes.length-1;n>=0;n--)t+=this.bytes[n];return new e(t)}}],[{key:"fromHex",value:function(t){if(t.length%2===1)throw new Error("Hex has odd length");for(var n="",a=0;a<t.length;a+=2)n+="\\x"+t.slice(a,a+2);return new e(n)}}]),e}(),g="Padding",f=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",paddToLength:1,type:g}}},{key:"paddingToBytes",value:function(e,t){for(var n=0,a=0;a<t.length;a++)n+=t[a].bytes.length;var r=e.paddToLength-n;if(r<0)return new d("<Padding can not satisfy condition: to many previous bytes>");var o=new d(e.pattern?e.pattern:"?"),i=Math.floor(r/o.bytes.length),s=r-i*o.bytes.length,u=o.str.repeat(i),l=o.bytes.slice(0,s).join("");return new d(u+l)}}]),e}(),b=new Map;b.set("8 bit",0xffn),b.set("16 bit",0xffffn),b.set("32 bit",0xffffffffn),b.set("64 bit",0xffffffffffffffffn);var y=new Map;y.set("8 bit",1),y.set("16 bit",2),y.set("32 bit",4),y.set("64 bit",8);var m=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"defaultValues",value:function(){return{numberString:"0x41414141",numberType:"32 bit",type:"Integer"}}},{key:"getErrorMessage",value:function(t){try{var n=e.parseNumber(t.numberString),a=t.numberType,r=b.get(a);if(!r)throw new Error("Unknown number type: ".concat(a));var o=r;if(n>o)return"Number to big for '".concat(a,"'");if(n<0n&&n<(o+1n)/BigInt(-2))return"Number to big for '".concat(a,"'")}catch(i){return"Parsing integer failed"}}},{key:"parseNumber",value:function(e){return e=e.replace(/[\s_]+/g,""),BigInt(e)}},{key:"integerToBytes",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.getErrorMessage(t);if(a)return new d("<Error: ".concat(a,">"));var r=e.parseNumber(t.numberString),o=b.get(t.numberType),i=y.get(t.numberType);if(!o||!i)throw new Error("Unknown number type: ".concat(t.numberType));r<0n&&(r+=o+1n);var s=r.toString(16),u=2*i-s.length;s="0".repeat(u)+s;var l=d.fromHex(s);return n?l.getReversed():l}}]),e}(),C=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",repeatCount:1,type:"String"}}},{key:"stringToBytes",value:function(e){var t=e.repeatCount,n=e.pattern.repeat(t);return new d(n)}}]),e}(),k=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",repeatCount:1,type:"String (reversed)"}}},{key:"stringToBytes",value:function(e){var t=e.repeatCount,n=new d(e.pattern).getReversed().str.repeat(t);return new d(n)}}]),e}(),j=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"getBytesStrings",value:function(t){for(var n=[],a=[],r=0;r<t.length;r++){var o=e.toBytes(t[r].data,a),i={key:t[r].key,data:o};a.push(o),n.push(i)}return n}},{key:"toBytes",value:function(e,t){switch(e.type){case g:return f.paddingToBytes(e,t);case"Integer":return m.integerToBytes(e,!0);case"String":return C.stringToBytes(e);case"String (reversed)":return k.stringToBytes(e);default:return new d("<Unknown type>")}}}]),e}(),O=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;try{return r.a.createElement("div",{style:{backgroundColor:"lightgray",textAlign:"center",margin:"25px"}},j.getBytesStrings(this.props.blueprints).map((function(t,n){var a=e.props.colors[n%e.props.colors.length];return r.a.createElement("span",{style:{color:a},key:t.key},t.data.str)})))}catch(t){return r.a.createElement("div",{className:"error-message",style:{backgroundColor:"red"}},r.a.createElement("p",null,"An error occured while creating the output"),t.name+": "+t.message)}}}]),n}(r.a.Component),w=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("select",{onChange:function(t){e.props.onChange(t.target.value)},value:this.props.value},r.a.createElement("option",{value:"",key:-1,disabled:!0,hidden:!0},this.props.prompt?this.props.prompt:"Choose a option"),this.props.options.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))}}],[{key:"defaultValue",value:function(){return""}}]),n}(r.a.Component),E=["Repeat "," up to index "],I=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onPatternChange=a.onPatternChange.bind(Object(l.a)(a)),a.onNumberChange=a.onNumberChange.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,E[0],r.a.createElement("input",{type:"text",value:this.props.values.pattern,onChange:this.onPatternChange}),E[1],r.a.createElement("input",{type:"number",min:"1",value:this.props.values.paddToLength,onChange:this.onNumberChange}))}},{key:"onNumberChange",value:function(e){this.onChange({paddToLength:e.target.value})}},{key:"onPatternChange",value:function(e){this.onChange({pattern:e.target.value})}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),x=["8 bit","16 bit","32 bit","64 bit"],T=[" as "," integer"],S=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onTypeChange=a.onTypeChange.bind(Object(l.a)(a)),a.onValueChange=a.onValueChange.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:this.props.values.numberString,onChange:this.onValueChange}),T[0],r.a.createElement(w,{value:this.props.values.numberType,onChange:this.onTypeChange,options:x}),T[1],this.renderErrorMessages())}},{key:"onTypeChange",value:function(e){this.onChange({numberType:e})}},{key:"onValueChange",value:function(e){this.onChange({numberString:e.target.value})}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}},{key:"renderErrorMessages",value:function(){var e=m.getErrorMessage(this.props.values);if(e)return r.a.createElement("span",{style:{color:"red"}},"Error: ",e)}}]),n}(r.a.Component),V=["Repeat "," exactly "," time(s)"],N=["Reverse "," and repeat it "," time(s)"],B=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onPatternChange=a.onPatternChange.bind(Object(l.a)(a)),a.onNumberChange=a.onNumberChange.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"render",value:function(){var e="String (reversed)"===this.props.values.type?N:V;return r.a.createElement("div",null,e[0],r.a.createElement("input",{type:"text",value:this.props.values.pattern,onChange:this.onPatternChange}),e[1],r.a.createElement("input",{type:"number",min:"1",value:this.props.values.repeatCount,onChange:this.onNumberChange}),e[2])}},{key:"onNumberChange",value:function(e){this.onChange({repeatCount:e.target.value})}},{key:"onPatternChange",value:function(e){this.onChange({pattern:e.target.value})}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),D=["Integer","String","String (reversed)",g],M=new Map;M.set(g,{defaultValues:f.defaultValues,viewClass:I}),M.set("Integer",{defaultValues:m.defaultValues,viewClass:S}),M.set("String",{defaultValues:C.defaultValues,viewClass:B}),M.set("String (reversed)",{defaultValues:k.defaultValues,viewClass:B});var P=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onTypeChange=a.onTypeChange.bind(Object(l.a)(a)),a.onChildChange=a.onChildChange.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,"Type: ",r.a.createElement(w,{value:this.props.data.type,options:D,onChange:this.onTypeChange}),this.renderChild(this.props.data.type))}},{key:"onTypeChange",value:function(e){this.onChange(e,this.defaultValues(e))}},{key:"onChildChange",value:function(e){this.onChange(this.props.data.type,e)}},{key:"onChange",value:function(e,t){var n=Object.assign(t,{type:e});this.props.onChange(this.props.index,n)}},{key:"renderChild",value:function(e){return r.a.createElement(this.typeToClass(e),{onChange:this.onChildChange,values:this.props.data})}},{key:"defaultValues",value:function(e){var t,n=null===(t=M.get(e))||void 0===t?void 0:t.defaultValues;if(!n)throw Error("Unknown type: ".concat(e));return n()}},{key:"typeToClass",value:function(e){var t,n=null===(t=M.get(e))||void 0===t?void 0:t.viewClass;if(!n)throw Error("Unknown type: ".concat(e));return n}}]),n}(r.a.Component),A=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={blueprints:[]},a.onChange=a.onChange.bind(Object(l.a)(a)),a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v,{onChange:this.onChange,entryClass:P,newItemData:function(e){var t=C.defaultValues();return t.repeatCount=e+1,t}}),r.a.createElement(O,{blueprints:this.state.blueprints,colors:["red","green","blue"]}))}},{key:"onChange",value:function(e){var t=Object.assign({},this.state,{blueprints:e});this.setState(t)}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.76a23e36.chunk.js.map