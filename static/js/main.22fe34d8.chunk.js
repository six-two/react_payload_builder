(this.webpackJsonpreact_payload_builder=this.webpackJsonpreact_payload_builder||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(49),i=n.n(o),s=n(1),l=n(2),u=n(4),c=n(3),p=(n(62),n(5)),h=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("select",{onChange:function(t){e.props.onChange(t.target.value)},value:this.props.value},r.a.createElement("option",{value:"",key:-1,disabled:!0,hidden:!0},this.props.prompt?this.props.prompt:"Choose a option"),this.props.options.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))}}],[{key:"defaultValue",value:function(){return""}}]),n}(r.a.Component);function d(e){if(""===e)return!0;var t=Number(e);return!isNaN(t)&&t>0&&t<=99999}var v=["Repeat "," up to index "],g=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNumberChange=function(t){d(t.target.value)&&e.onChange({paddToLength:t.target.value})},e.onPatternChange=function(t){e.onChange({pattern:t.target.value})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"edit-container"},v[0],r.a.createElement("input",{className:"input-string",type:"text",value:this.props.values.pattern,onChange:this.onPatternChange}),v[1],r.a.createElement("input",{className:"input-count",type:"text",value:this.props.values.paddToLength,onChange:this.onNumberChange}))}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),m=/\x[0-9a-fA-F]{2}/,f=function(){function e(t){Object(s.a)(this,e),this.bytes=void 0,this.bytes=t}return Object(l.a)(e,[{key:"toString",value:function(){return this.bytes.join("")}},{key:"append",value:function(e){var t;(t=this.bytes).push.apply(t,Object(p.a)(e.bytes))}},{key:"reversed",value:function(){var t=Object(p.a)(this.bytes);return t.reverse(),new e(t)}},{key:"repeated",value:function(t){for(var n=[],a=0;a<t;a++)n.push.apply(n,Object(p.a)(this.bytes));return new e(n)}},{key:"length",get:function(){return this.bytes.length}}],[{key:"fromString",value:function(t){for(var n=[],a=0;a<t.length;){var r=t.slice(a,a+4);r.match(m)?(n.push(r),a+=4):(n.push(t[a]),a+=1)}return new e(n)}},{key:"fromHex",value:function(t){if(t.length%2===1)throw new Error("Hex has odd length");for(var n=t.length/2,a=Array(n),r=0;r<n;r++)a[r]="\\x"+t.slice(2*r,2*r+2);return new e(a)}}]),e}(),y=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",paddToLength:1,type:"Padding"}}},{key:"paddingToBytes",value:function(e,t){for(var n,a=0,r=0;r<t.length;r++)a+=t[r].bytes.length;var o=e.paddToLength-a;o<0&&I("Padding should be applied up to index ".concat(e.paddToLength,", but the string is already longer than that (length=").concat(a,")")),e.pattern||I("Padding can not be empty");var i=f.fromString(e.pattern),s=Math.floor(o/i.length),l=o-s*i.length,u=i.bytes.slice(0,l),c=i.repeated(s);return(n=c.bytes).push.apply(n,Object(p.a)(u)),c}}]),e}(),b=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",repeatCount:1,type:"String"}}},{key:"stringToBytes",value:function(e){return f.fromString(e.pattern).repeated(e.repeatCount)}}]),e}(),C=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",repeatCount:1,type:"String (reversed)"}}},{key:"stringToBytes",value:function(e){return f.fromString(e.pattern).reversed().repeated(e.repeatCount)}}]),e}(),w={key:-1,data:f.fromString("Error: Please check your inputs. @dev: This message should not be shown")};function I(e){var t=new Error(e||"Something went wrong. Please check your inputs");throw t.name="BadInputError",t}var E=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(s.a)(this,e),this.littleEndian=void 0,this.littleEndian=t}return Object(l.a)(e,[{key:"getBytesStrings",value:function(e){var t=0;try{var n=[],a=[];for(t=0;t<e.length;t++){var r=this.toBytes(e[t].data,a),o={key:e[t].key,data:r};a.push(r),n.push(o)}return{byteStrings:n}}catch(i){if("BadInputError"===i.name)return{errorMessage:"Error in input ".concat(t+1,": ").concat(i.message),byteStrings:[w]};throw i}}},{key:"toBytes",value:function(e,t){switch(e.type){case"Padding":return y.paddingToBytes(e,t);case k:return x.integerToBytes(e,this.littleEndian);case"String":return b.stringToBytes(e);case"String (reversed)":return C.stringToBytes(e);default:throw new Error("Unknown type")}}},{key:"isValid",value:function(e){try{return this.toBytes(e,[]),!0}catch(t){return!1}}}]),e}(),k="Integer",O=new Map;O.set("8 bit",0xffn),O.set("16 bit",0xffffn),O.set("32 bit",0xffffffffn),O.set("64 bit",0xffffffffffffffffn);var j=new Map;j.set("8 bit",1),j.set("16 bit",2),j.set("32 bit",4),j.set("64 bit",8);var x=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"defaultValues",value:function(){return{numberString:"0x41414141",numberType:"32 bit",type:k}}},{key:"getErrorMessage",value:function(t){try{var n=e.parseNumber(t.numberString),a=t.numberType,r=O.get(a);if(!r)throw new Error("Unknown number type: ".concat(a));var o=r;if(n>o)return"Number to big for '".concat(a,"'");if(n<0n&&n<(o+1n)/BigInt(-2))return"Number to big for '".concat(a,"'")}catch(i){return"Parsing integer failed"}}},{key:"parseNumber",value:function(e){return e=e.replace(/[\s_]+/g,""),BigInt(e)}},{key:"integerToBytes",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.getErrorMessage(t);a&&I(a);var r=e.parseNumber(t.numberString),o=O.get(t.numberType),i=j.get(t.numberType);if(!o||!i)throw new Error("Unknown number type: ".concat(t.numberType));r<0n&&(r+=o+1n);var s=r.toString(16),l=2*i-s.length;s="0".repeat(l)+s;var u=f.fromHex(s);return n?u.reversed():u}}]),e}(),S=["8 bit","16 bit","32 bit","64 bit"],B=[" as "," integer"],G=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onTypeChange=function(t){e.onChange({numberType:t})},e.onValueChange=function(t){var n=t.target.value;/^([0-9a-fA-Fxo]*)$/.test(n)&&e.onChange({numberString:n})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"edit-container"},r.a.createElement("input",{type:"text",value:this.props.values.numberString,onChange:this.onValueChange}),B[0],r.a.createElement(h,{value:this.props.values.numberType,onChange:this.onTypeChange,options:S}),B[1])}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),V=["Repeat "," exactly "," time(s)"],T=["Reverse "," and repeat it "," time(s)"],N=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNumberChange=function(t){d(t.target.value)&&e.onChange({repeatCount:t.target.value})},e.onPatternChange=function(t){e.onChange({pattern:t.target.value})},e}return Object(l.a)(n,[{key:"render",value:function(){var e="String (reversed)"===this.props.values.type?T:V;return r.a.createElement("div",{className:"edit-container"},e[0],r.a.createElement("input",{className:"input-string",type:"text",value:this.props.values.pattern,onChange:this.onPatternChange}),e[1],r.a.createElement("input",{className:"input-count",type:"text",value:this.props.values.repeatCount,onChange:this.onNumberChange}),e[2])}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),Z=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onMoveUp=function(){e.props.index>0&&e.props.onItemsSwap(e.props.index,e.props.index-1)},e.onMoveDown=function(){e.props.isLast||e.props.onItemsSwap(e.props.index,e.props.index+1)},e.onDelete=function(){e.props.onItemDelete(e.props.index)},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"list-item-controls"},r.a.createElement("input",{type:"button",value:"Up",onClick:this.onMoveUp,disabled:0===this.props.index}),r.a.createElement("input",{type:"button",value:"Down",onClick:this.onMoveDown,disabled:this.props.isLast}),r.a.createElement("input",{type:"button",value:"Delete",onClick:this.onDelete}))}}]),n}(r.a.Component),J=new Map;J.set(k,{defaultValues:x.defaultValues,viewClass:G}),J.set("String",{defaultValues:b.defaultValues,viewClass:N}),J.set("String (reversed)",{defaultValues:C.defaultValues,viewClass:N}),J.set("Padding",{defaultValues:y.defaultValues,viewClass:g});var R=Object(p.a)(J.keys());function L(e){var t=J.get(e);if(!t)throw Error("Unknown type: ".concat(e));return t}var F=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onTypeChange=function(t){e.onChange(t,L(t).defaultValues())},e.onChildChange=function(t){e.onChange(e.props.data.type,t)},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("tr",{className:"list-item multi-colored"},r.a.createElement("td",null,r.a.createElement(h,{value:this.props.data.type,options:R,onChange:this.onTypeChange})),r.a.createElement("td",null,this.renderChild(this.props.data.type)),r.a.createElement("td",null,r.a.createElement(Z,{index:this.props.index,isLast:this.props.isLast,onItemsSwap:this.props.onItemsSwap,onItemDelete:this.props.onItemDelete})))}},{key:"onChange",value:function(e,t){var n=Object.assign(t,{type:e});this.props.onChange(this.props.index,n)}},{key:"renderChild",value:function(e){var t=L(e).viewClass,n={onChange:this.onChildChange,values:this.props.data};return r.a.createElement(t,n)}},{key:"typeToClass",value:function(e){var t,n=null===(t=J.get(e))||void 0===t?void 0:t.viewClass;if(!n)throw Error("Unknown type: ".concat(e));return n}}]),n}(r.a.Component),D=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a,r;Object(s.a)(this,n),(r=t.call(this,e)).onItemAdd=function(){var e=r.state.entries.slice(),t=r.props.newItemData(e.length),n={key:r.state.nextId,data:t};e.push(n),r.onChange(e,r.state.nextId+1)},r.onItemChange=function(e,t){var n=r.state.entries.slice(),a={key:n[e].key,data:t};n[e]=a,r.onChange(n,r.state.nextId)},r.onItemSwapped=function(e,t){var n=r.state.entries.slice(),a=n[e];n[e]=n[t],n[t]=a,r.onChange(n)},r.onItemDeleted=function(e){var t=r.state.entries.slice();t.splice(e,1),r.onChange(t)},r.onDeleteAll=function(){r.onChange([])};var o=(null!==(a=e.initialValues)&&void 0!==a?a:[]).map((function(e,t){return{key:t,data:e}}));return r.state={entries:o,nextId:o.length},e.onChange(o),r}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("table",{className:"list"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Configuration"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.state.entries.map((function(t,n){return r.a.createElement(F,{index:n,key:t.key,isLast:n+1===e.state.entries.length,onItemDelete:e.onItemDeleted,onItemsSwap:e.onItemSwapped,onChange:e.onItemChange,data:t.data})})),r.a.createElement("tr",{key:-1,className:"row-buttons"},r.a.createElement("td",{colSpan:2},r.a.createElement("button",{onClick:this.onItemAdd},"Add new element")),r.a.createElement("td",null,r.a.createElement("button",{onClick:this.onDeleteAll},"Delete all")))))}},{key:"onChange",value:function(e,t){var n;t=null!==(n=t)&&void 0!==n?n:this.state.nextId,this.setState({entries:e,nextId:t}),this.props.onChange(e)}}]),n}(r.a.Component),W=n(50),H=n(56),A=n.n(H),U=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onClick=function(e){var t=a.props.text;A()(t),a.setState({copiedText:t})},a.state={copiedText:null},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.text===this.state.copiedText?"Copied":"Copy";return r.a.createElement("button",{onClick:this.onClick},e)}}]),n}(r.a.Component),M=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;Object(s.a)(this,n),(a=t.call(this,e)).onTypeChange=function(e){if(e!==a.props.values.option){var t;if(a.isCustom(e))t=a.state.lastCustomValue;else if(a.isCustom()&&a.setState({lastCustomValue:a.props.values.value}),void 0===(t=a.props.options.get(e)))throw new Error("[BUG] Type has no value mapped");var n={option:e,value:t};a.props.onChange(n)}},a.onValueChange=function(e){if(a.isCustom()){var t={option:a.props.values.option,value:e.target.value};a.props.onChange(t)}};var r=e.options.get(e.customOption);if(void 0===r)throw new Error("Initial value for customOption is not suppplied");return a.state={lastCustomValue:r},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.label,r.a.createElement(h,{value:this.props.values.option,onChange:this.onTypeChange,options:Object(p.a)(this.props.options.keys())}),this.isCustom()?r.a.createElement("input",{type:"text",value:this.props.values.value,onChange:this.onValueChange}):null)}},{key:"isCustom",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return(t=null!==(e=t)&&void 0!==e?e:this.props.values.option)===this.props.customOption}}]),n}(r.a.Component),X=/\+/g,Y=/\//g,P=/=+$/,Q=/-/g,_=/_/g;function z(e,t){return new f(e.bytes.map(t))}function $(e){return e.length>=4?"%"+e.slice(2):encodeURIComponent(e)}function q(e){if(1===e.length)switch(e){case"'":return"\\x27";case'"':return"\\x22";case" ":return"\\x20";case"\\":return"\\x5c"}return e}var K=new Map;K.set("python","python -c 'print(\"%s\")'"),K.set("printf","printf '%s'"),K.set("raw","%s"),K.set("custom","your_command --flags '%s'"),K.set("URL escaped","%s"),K.set("export this session","This text should not be visible! %s");var ee=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a,r;Object(s.a)(this,n),(r=t.call(this,e)).onFormatChange=function(e){r.setState({format:e})},r.onEndianChange=function(e){r.setState({isLittleEndian:e.target.checked})};var o=null!==(a=K.get("raw"))&&void 0!==a?a:"%s";return r.state={format:{option:"raw",value:o},isLittleEndian:!0},r}return Object(l.a)(n,[{key:"render",value:function(){for(var e=this.getRenderData(),t=!1,n=0;n<this.props.blueprints.length;n++)"Integer"===this.props.blueprints[n].data.type&&(t=!0);return r.a.createElement("div",{className:"byteOutput"},r.a.createElement("table",{className:"output_settings"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(M,{options:K,values:this.state.format,customOption:"custom",onChange:this.onFormatChange,label:"Output format: "})),t?r.a.createElement("td",null,r.a.createElement("label",null,r.a.createElement(W.a,{checked:this.state.isLittleEndian,onChange:this.onEndianChange}),"use little endian")):null,e.textToCopy?r.a.createElement("td",null,r.a.createElement(U,{text:e.textToCopy})):null))),e.error?r.a.createElement("span",{className:"err-msg"},e.error):e.dom)}},{key:"getRenderData",value:function(){var e=this.state.format.value.split("%s");return 2!==e.length?{error:'Format has to contain exactly one "%s" (without the quotes)',dom:null,textToCopy:null}:"export this session"===this.state.format.option?this.exportRenderData():this.normalRenderData(e)}},{key:"exportRenderData",value:function(){var e=this.props.blueprints.map((function(e){return e.data})),t=JSON.stringify(e);t=btoa(t).replace(X,"-").replace(Y,"_").replace(P,"");var n=new URL(window.location.href);n.searchParams.set("import",t);var a=n.href;return{dom:r.a.createElement("span",null,"You can return to the current state anytime by visiting:",r.a.createElement("br",null),r.a.createElement("br",null),a),textToCopy:a}}},{key:"normalRenderData",value:function(e){var t=this,n=new E(this.state.isLittleEndian).getBytesStrings(this.props.blueprints);if(n.errorMessage)return{error:n.errorMessage,dom:null,textToCopy:null};var a=n.byteStrings.map((function(e){var n="URL escaped"===t.state.format.option?$:q;return{key:e.key,str:z(e.data,n).toString()}})),o=a.map((function(e){return e.str})).join("");return o=e[0]+o+e[1],{dom:r.a.createElement("span",null,e[0],a.map((function(e){return r.a.createElement("span",{className:"multi-colored",key:e.key},e.str)})),e[1]),textToCopy:o}}}]),n}(r.a.Component),te=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a,r;Object(s.a)(this,n),(a=t.call(this,e)).onListChange=function(e){a.setState({blueprints:e})};try{var o=new URL(window.location.href).searchParams.get("import")||"W3sicGF0dGVybiI6Ij09PSBRdWljayBzdGFydCBpbnN0cnVjdGlvbnMgPT09IiwicGFkZFRvTGVuZ3RoIjoiMTAiLCJ0eXBlIjoiUGFkZGluZyJ9LHsicGF0dGVybiI6IiAtIElucHV0IG5vbiBhc2NpaSBjaGFycyBsaWtlIHRoaXM6IFxceD8_IHdoZXJlID8_IGlzIHRoZSBoZXggY29kZSBvZiB0aGUgY2hhciIsInBhZGRUb0xlbmd0aCI6IjIwIiwidHlwZSI6IlBhZGRpbmcifSx7InR5cGUiOiJTdHJpbmciLCJwYXR0ZXJuIjoiICAgQWxsIG90aGVyIGJhY2tzbGFzaGVzIGFyZSBlc2NhcGVkLiBTbyB1c2UgJ1xceDBhJyBpbnN0ZWFkIG9mICdcXG4nISIsInJlcGVhdENvdW50IjoxfSx7InBhdHRlcm4iOiIgLSBZb3UgY2FuIGFkZCBwYWRkaW5nIGxpa2UgYmVsb3c6IiwicmVwZWF0Q291bnQiOiIxIiwidHlwZSI6IlN0cmluZyJ9LHsidHlwZSI6IlBhZGRpbmciLCJwYXR0ZXJuIjoiXFx4OTAiLCJwYWRkVG9MZW5ndGgiOjEyOH0seyJ0eXBlIjoiU3RyaW5nIiwicGF0dGVybiI6IiAtIFlvdSBjYW4gcHV0IGFuIGFkZHJlc3MgaW50byBtZW1vcnkgbGlrZSBiZWxvdzoiLCJyZXBlYXRDb3VudCI6MX0seyJ0eXBlIjoiSW50ZWdlciIsIm51bWJlclR5cGUiOiIzMiBiaXQiLCJudW1iZXJTdHJpbmciOiIweDEyMzQ1Njc4In0seyJwYXR0ZXJuIjoiIC0gWW91IGNhbiBzZWUgdGhlIG91dHB1dCBpbiB0aGUgYm94IGJlbG93IiwicmVwZWF0Q291bnQiOiIxIiwidHlwZSI6IlN0cmluZyJ9LHsicGF0dGVybiI6IiAgIFRvIHF1aWNrbHkgY29weSBpdCBoaXQgdGhlIGNvcHkgYnV0dG9uIiwicmVwZWF0Q291bnQiOiIxIiwidHlwZSI6IlN0cmluZyJ9XQ";r=a.parseInitialValuesJson(o)}catch(i){r=["===== Error importing data =====",i.toString(),"Hint: Are you sure you copied the whole url?"].map((function(e){return{type:"String",pattern:e,repeatCount:1}}))}return a.state={initialValues:r,blueprints:[]},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-root"},r.a.createElement(D,{initialValues:this.state.initialValues,onChange:this.onListChange,entryClass:F,newItemData:function(e){var t=b.defaultValues();return t.pattern="A".repeat(e+1),t}}),r.a.createElement(ee,{blueprints:this.state.blueprints}))}},{key:"parseInitialValuesJson",value:function(e){try{t=(t=e).replace(Q,"+").replace(_,"/"),e=atob(t)}catch(i){throw new Error("Base64 decoding failed")}var t,n;try{n=JSON.parse(e)}catch(s){throw new Error("JSON decoding failed")}try{for(var a=n,r=new E,o=0;o<a.length;o++)if(!r.isValid(a[o]))throw new Error("Element with index ".concat(o," is malformed"));return a}catch(l){throw new Error("Your data is corrupted or not compatible with this version of the software")}}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},57:function(e,t,n){e.exports=n(101)},62:function(e,t,n){}},[[57,1,2]]]);
//# sourceMappingURL=main.22fe34d8.chunk.js.map