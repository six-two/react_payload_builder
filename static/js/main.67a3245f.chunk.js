(this.webpackJsonpreact_payload_builder=this.webpackJsonpreact_payload_builder||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(26),i=n.n(o),s=n(6),u=n(1),c=n(2),l=n(3),p=n(5),d=n(4),h=(n(78),n(7)),f=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("select",{onChange:function(t){e.props.onChange(t.target.value)},value:this.props.value},r.a.createElement("option",{value:"",key:-1,disabled:!0,hidden:!0},this.props.prompt?this.props.prompt:"Choose a option"),this.props.options.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))}}],[{key:"defaultValue",value:function(){return""}}]),n}(r.a.Component);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toString(16).toUpperCase().padStart(t,"0")}function b(e){if(""===e)return!0;var t=Number(e);return!isNaN(t)&&t>0&&t<=99999}var v=["Repeat "," up to index "],g=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNumberChange=function(t){b(t.target.value)&&e.onChange({paddToLength:t.target.value})},e.onPatternChange=function(t){e.onChange({pattern:t.target.value})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"edit-container"},v[0],r.a.createElement("input",{className:"input-string",type:"text",value:this.props.values.pattern,onChange:this.onPatternChange}),v[1],r.a.createElement("input",{className:"input-count",type:"text",value:this.props.values.paddToLength,onChange:this.onNumberChange}))}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),y=/\x[0-9a-fA-F]{2}/,E=function(){function e(t){Object(c.a)(this,e),this.bytes=void 0,this.bytes=t}return Object(l.a)(e,[{key:"toString",value:function(){return this.bytes.join("")}},{key:"append",value:function(e){var t;(t=this.bytes).push.apply(t,Object(h.a)(e.bytes))}},{key:"reversed",value:function(){var t=Object(h.a)(this.bytes);return t.reverse(),new e(t)}},{key:"repeated",value:function(t){for(var n=[],a=0;a<t;a++)n.push.apply(n,Object(h.a)(this.bytes));return new e(n)}},{key:"length",get:function(){return this.bytes.length}}],[{key:"fromString",value:function(t){for(var n=[],a=0;a<t.length;){var r=t.slice(a,a+4);r.match(y)?(n.push(r),a+=4):(n.push(t[a]),a+=1)}return new e(n)}},{key:"fromHex",value:function(t){if(t.length%2===1)throw new Error("Hex has odd length");for(var n=t.length/2,a=Array(n),r=0;r<n;r++)a[r]="\\x"+t.slice(2*r,2*r+2);return new e(a)}}]),e}(),O=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",paddToLength:1,type:"Padding"}}},{key:"paddingToBytes",value:function(e,t){for(var n,a=0,r=0;r<t.length;r++)a+=t[r].bytes.length;var o=e.paddToLength-a;o<0&&I("Padding should be applied up to index ".concat(e.paddToLength,", but the string is already longer than that (length=").concat(a,")")),e.pattern||I("Padding can not be empty");var i=E.fromString(e.pattern),s=Math.floor(o/i.length),u=o-s*i.length,c=i.bytes.slice(0,u),l=i.repeated(s);return(n=l.bytes).push.apply(n,Object(h.a)(c)),l}}]),e}(),j=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",repeatCount:1,type:"String"}}},{key:"stringToBytes",value:function(e){return E.fromString(e.pattern).repeated(e.repeatCount)}}]),e}(),C=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",repeatCount:1,type:"String (reversed)"}}},{key:"stringToBytes",value:function(e){return E.fromString(e.pattern).reversed().repeated(e.repeatCount)}}]),e}(),w={key:-1,data:E.fromString("Error: Please check your inputs. @dev: This message should not be shown")};function I(e){var t=new Error(e||"Something went wrong. Please check your inputs");throw t.name="BadInputError",t}function S(e){var t=function(e,t){var n=0;try{var a=[],r=[];for(n=0;n<e.length;n++){var o=k(e[n].data,r,t),i={key:e[n].key,data:o};r.push(o),a.push(i)}return{byteStrings:a}}catch(s){if("BadInputError"===s.name)return{errorMessage:"Error in input ".concat(n+1,": ").concat(s.message),byteStrings:[w]};throw s}}(e.persistent.entries.list,e.persistent.isLittleEndian);return Object(u.a)(Object(u.a)({},e),{},{outputBuilderResult:t})}function k(e,t,n){switch(e.type){case"Padding":return O.paddingToBytes(e,t);case x:return N.integerToBytes(e,n);case"String":return j.stringToBytes(e);case"String (reversed)":return C.stringToBytes(e);default:throw new Error("Unknown type")}}var x="Integer",T=new Map;T.set("8 bit",0xffn),T.set("16 bit",0xffffn),T.set("32 bit",0xffffffffn),T.set("64 bit",0xffffffffffffffffn);var L=new Map;L.set("8 bit",1),L.set("16 bit",2),L.set("32 bit",4),L.set("64 bit",8);var N=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"defaultValues",value:function(){return{numberString:"0x41414141",numberType:"32 bit",type:x}}},{key:"getErrorMessage",value:function(t){try{var n=e.parseNumber(t.numberString),a=t.numberType,r=T.get(a);if(!r)throw new Error("Unknown number type: ".concat(a));var o=r;if(n>o)return"Number to big for '".concat(a,"'");if(n<0n&&n<(o+1n)/BigInt(-2))return"Number to big for '".concat(a,"'")}catch(i){return"Parsing integer failed"}}},{key:"parseNumber",value:function(e){return e=e.replace(/[\s_]+/g,""),BigInt(e)}},{key:"integerToBytes",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.getErrorMessage(t);a&&I(a);var r=e.parseNumber(t.numberString),o=T.get(t.numberType),i=L.get(t.numberType);if(!o||!i)throw new Error("Unknown number type: ".concat(t.numberType));r<0n&&(r+=o+1n);var s=r.toString(16),u=2*i-s.length;s="0".repeat(u)+s;var c=E.fromHex(s);return n?c.reversed():c}}]),e}(),B=["8 bit","16 bit","32 bit","64 bit"],A=[" as "," integer"],G=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onTypeChange=function(t){e.onChange({numberType:t})},e.onValueChange=function(t){var n=t.target.value;/^([0-9a-fA-Fxo]*)$/.test(n)&&e.onChange({numberString:n})},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"edit-container"},r.a.createElement("input",{type:"text",value:this.props.values.numberString,onChange:this.onValueChange}),A[0],r.a.createElement(f,{value:this.props.values.numberType,onChange:this.onTypeChange,options:B}),A[1])}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),V=[""," repeated "," time(s)"],_=["Reverse "," and repeat it "," time(s)"],R=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNumberChange=function(t){b(t.target.value)&&e.onChange({repeatCount:t.target.value})},e.onPatternChange=function(t){e.onChange({pattern:t.target.value})},e}return Object(l.a)(n,[{key:"render",value:function(){var e="String (reversed)"===this.props.values.type?_:V;return r.a.createElement("div",{className:"edit-container"},e[0],r.a.createElement("input",{className:"input-string",type:"text",value:this.props.values.pattern,onChange:this.onPatternChange}),e[1],r.a.createElement("input",{className:"input-count",type:"text",value:this.props.values.repeatCount,onChange:this.onNumberChange}),e[2])}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),D=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onMoveUp=function(){e.props.index>0&&e.props.onItemsSwap(e.props.index,e.props.index-1)},e.onMoveDown=function(){e.props.isLast||e.props.onItemsSwap(e.props.index,e.props.index+1)},e.onDelete=function(){e.props.onItemDelete(e.props.index)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=0===this.props.index?"disabled-button":void 0,t=this.props.isLast?"disabled-button":void 0;return r.a.createElement("div",{className:"list-item-controls"},r.a.createElement("button",{className:e,onClick:this.onMoveUp,disabled:0===this.props.index},r.a.createElement("i",{className:"fa fa-arrow-up","aria-hidden":"true"})),r.a.createElement("button",{className:t,value:"Down",onClick:this.onMoveDown,disabled:this.props.isLast},r.a.createElement("i",{className:"fa fa-arrow-down","aria-hidden":"true"})),r.a.createElement("button",{value:"Delete",onClick:this.onDelete},r.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true"})))}}]),n}(r.a.Component),Z=new Map;Z.set(x,{defaultValues:N.defaultValues,viewClass:G}),Z.set("String",{defaultValues:j.defaultValues,viewClass:R}),Z.set("String (reversed)",{defaultValues:C.defaultValues,viewClass:R}),Z.set("Padding",{defaultValues:O.defaultValues,viewClass:g});var M=Object(h.a)(Z.keys());function W(e){var t=Z.get(e);if(!t)throw Error("Unknown type: ".concat(e));return t}var F=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onTypeChange=function(t){e.onChange(t,W(t).defaultValues())},e.onChildChange=function(t){e.onChange(e.props.data.type,t)},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("tr",{className:"row multi-colored"},r.a.createElement("td",null,r.a.createElement(f,{value:this.props.data.type,options:M,onChange:this.onTypeChange})),r.a.createElement("td",null,this.renderChild(this.props.data.type)),r.a.createElement("td",null,r.a.createElement(D,{index:this.props.index,isLast:this.props.isLast,onItemsSwap:this.props.onItemsSwap,onItemDelete:this.props.onItemDelete})))}},{key:"onChange",value:function(e,t){var n=Object(u.a)(Object(u.a)({},t),{},{type:e});this.props.onChange(this.props.index,n)}},{key:"renderChild",value:function(e){var t=W(e).viewClass,n={onChange:this.onChildChange,values:this.props.data};return r.a.createElement(t,n)}}]),n}(r.a.Component);var J=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("table",{className:"input-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"Configuration"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.props.entries.map((function(t,n){return r.a.createElement(F,{index:n,key:t.key,isLast:n+1===e.props.entries.length,onItemDelete:e.props.deleteListItem,onItemsSwap:e.props.swapListItems,onChange:e.props.updateItem,data:t.data})})),r.a.createElement("tr",{key:-1,className:"row-buttons"},r.a.createElement("td",{colSpan:2},r.a.createElement("button",{onClick:this.props.addListItem},"Add new element")),r.a.createElement("td",null,r.a.createElement("button",{onClick:this.props.deleteAllListItems},"Delete all")))))}}]),n}(r.a.Component),H=Object(s.b)((function(e,t){return Object(u.a)(Object(u.a)({},t),{},{entries:e.persistent.entries.list})}),(function(e){return{addListItem:function(){return e({type:"LIST_ADD"})},swapListItems:function(t,n){return e(function(e,t){return{type:"LIST_SWAP",payload:{indexA:e,indexB:t}}}(t,n))},deleteListItem:function(t){return e(function(e){return{type:"LIST_DELETE",payload:e}}(t))},deleteAllListItems:function(){return e({type:"LIST_DELETE_ALL"})},updateItem:function(t,n){return e(function(e,t){return{type:"LIST_ITEM_UPDATE",payload:{index:e,newValue:t}}}(t,n))}}}))(J),X=n(59),U=n.n(X),P=/\+/g,Y=/\//g,z=/=/g,Q=/-/g,$=/_/g;function q(e,t){return new E(e.bytes.map(t))}function K(e){return e.length>=4?"%"+e.slice(2):encodeURIComponent(e)}function ee(e){return 4===e.length?parseInt(e.slice(2),16):e.charCodeAt(0)}function te(e){var t=ee(e);return 32<=t&&t<=126?String.fromCharCode(t):"."}function ne(e){return m(ee(e),2)}function ae(e){if(1===e.length)switch(e){case"'":return"\\x27";case'"':return"\\x22";case" ":return"\\x20";case"\\":return"\\x5c"}return e}var re=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onClick=function(e){var t=a.getTextToCopy();t&&(U()(t),a.setState({updateCounterWhenCopied:a.props.updateCounter}))},a.state={updateCounterWhenCopied:-1},a}return Object(l.a)(n,[{key:"render",value:function(){if(!this.getTextToCopy())return null;var e=this.props.updateCounter===this.state.updateCounterWhenCopied?"Copied":"Copy";return r.a.createElement("button",{className:"copy-button",onClick:this.onClick},e)}},{key:"getTextToCopy",value:function(){if(this.props.hasErrors)return null;switch(this.props.format.format){case"%h":return null;case"%x":return this.getEscapedTextToCopy(ae);case"%u":return this.getEscapedTextToCopy(K);default:return console.error("Unknown format: ".concat(this.props.format.format)),null}}},{key:"getEscapedTextToCopy",value:function(e){var t=this.props.builderResult.byteStrings.map((function(t){return q(t.data,e).toString()})).join("");return this.props.format.labels.join(t)}}]),n}(r.a.Component),oe=Object(s.b)((function(e,t){return Object(u.a)(Object(u.a)({},t),{},{updateCounter:e.updateCounter,builderResult:e.outputBuilderResult,format:e.parsedFormat,hasErrors:e.hasErrors})}))(re),ie=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onTypeChange=function(t){var n=Object(u.a)(Object(u.a)({},e.props.state),{},{selected:t});if(t===e.props.customOption)n.value=e.props.state.custom;else{var a=e.props.options.get(t);if(void 0===a)throw new Error("Option ".concat(t," has no value mapped"));n.value=a}e.props.onStateChange(n)},e.onTextChange=function(t){var n=Object(u.a)(Object(u.a)({},e.props.state),{},{value:t.target.value,custom:t.target.value});e.props.onStateChange(n)},e}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.label,r.a.createElement(f,{value:this.props.state.selected,onChange:this.onTypeChange,options:Object(h.a)(this.props.options.keys())}),this.props.state.selected===this.props.customOption?r.a.createElement("input",{type:"text",value:this.props.state.custom,onChange:this.onTextChange}):null)}}]),n}(r.a.Component),se=new Map;se.set("raw","%x"),se.set("hexdump","%h"),se.set("URL escaped","%u"),se.set("python","python -c 'print(\"%x\")'"),se.set("printf","printf '%x'"),se.set("custom","You should never see this message! %x");var ue={selected:"raw",value:se.get("raw")||"Default format value not found! %x",custom:"yourCommand --flags '%x'"},ce=/%[xuh]/g;function le(e){var t=e.split(ce);if(2!==t.length)return{errorMessage:'Format has to contain exactly one "%x" (\\x?? escape), "%u" (%?? escape) or "%h" (hexdump view)',format:"",labels:[]};var n=t[0].length,a=e.length-t[1].length;return{format:e.slice(n,a),labels:t}}var pe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"format-chooser"},r.a.createElement(ie,{options:se,state:this.props.format,customOption:"custom",onStateChange:this.props.setFormat,label:"Output format: "}))}}]),n}(r.a.Component),de=Object(s.b)((function(e,t){return Object(u.a)(Object(u.a)({},t),{},{format:e.persistent.format})}),(function(e){return{setFormat:function(t){return e(function(e){return{type:"FORMAT_CHANGED",payload:e}}(t))}}}))(pe),he=n(66);var fe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e,t,n;if(this.props.hasErrors)return null;for(var a,o,i=null!==(e=this.props.bytesPerRow)&&void 0!==e?e:16,s=null===(t=this.props.showOffset)||void 0===t||t,u=null===(n=this.props.showAscii)||void 0===n||n,c=[],l=0,p=0;p<this.props.builderResult.byteStrings.length;p++)for(var d=this.props.builderResult.byteStrings[p].data.bytes;d.length>0;){l<=0&&(c.push({items:[]}),l=i);var h,f=(o=l,(a=d).length<=o?[a,[]]:[a.slice(0,o),a.slice(o)]),b=Object(he.a)(f,2);h=b[0],d=b[1],c[c.length-1].items.push({bytes:h,color:p%3}),l-=h.length}function v(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return r.a.createElement("div",{className:"row".concat(a),key:"row-".concat(e)},s?r.a.createElement("div",{className:"cell offset"},r.a.createElement("span",null,e)):void 0,r.a.createElement("div",{className:"cell hex"},t),u?r.a.createElement("div",{className:"cell ascii"},n):void 0)}var g;if(s){var y=function(e,t){for(var n=[],a=e;a<t;a++)n.push(a);return n}(0,i).map((function(e){return m(e,2)})).join(" ");g=v("",r.a.createElement("span",null,y),r.a.createElement("span",null,function(e,t,n){n=n[0];var a=t-e.length;if(a>0){var r=Math.ceil(a/2),o=Math.floor(a/2);e=n.repeat(r)+e+n.repeat(o)}return e}(" ASCII ",i,"="))," header-row")}return r.a.createElement("div",{className:"hexdump"},g,c.map((function(e,t){for(var n=m(t*i,4),a=[],o=[],s=0;s<e.items.length;s++){var u=e.items[s],c="color-".concat(u.color+1),l=u.bytes.map(ne).join(" ");s!==e.items.length-1&&(l+=" ");var p=u.bytes.map(te).join("");p=p.replace(/ /g,"\xa0");var d="hd-".concat(t,"-").concat(s);a.push(r.a.createElement("span",{key:d,className:c},l)),o.push(r.a.createElement("span",{key:d,className:c},p))}return v(n,a,o)})))}}]),n}(r.a.Component),me=Object(s.b)((function(e,t){return Object(u.a)(Object(u.a)({},t),{},{builderResult:e.outputBuilderResult,hasErrors:e.hasErrors})}))(fe),be=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){if(this.props.format.errorMessage)return null;switch(this.props.format.format){case"%h":return r.a.createElement(me,null);case"%x":return this.renderWithEscapeFunction(ae);case"%u":return this.renderWithEscapeFunction(K);default:return r.a.createElement("span",{className:"err-msg"},'BUG: Unknown format: "',this.props.format.format,'"')}}},{key:"renderWithEscapeFunction",value:function(e){var t=this.props.builderResult.byteStrings.map((function(t){return{key:t.key,str:q(t.data,e).toString()}})),n=this.props.format.labels;return r.a.createElement("div",{className:"colored-bytes"},n[0],t.map((function(e){return r.a.createElement("span",{className:"multi-colored",key:e.key},e.str)})),n[1])}}]),n}(r.a.Component),ve=Object(s.b)((function(e,t){return Object(u.a)(Object(u.a)({},t),{},{builderResult:e.outputBuilderResult,format:e.parsedFormat})}))(be),ge=n(60),ye=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return this.isVisible()?r.a.createElement("div",{className:"endian-toggle"},r.a.createElement("label",null,r.a.createElement(ge.a,{className:"cell",checked:this.props.isLittleEndian,onChange:this.props.toggleEndian}),"use little endian")):null}},{key:"isVisible",value:function(){for(var e=0;e<this.props.blueprints.length;e++)if("Integer"===this.props.blueprints[e].data.type)return!0;return!1}}]),n}(r.a.Component),Ee=Object(s.b)((function(e,t){return Object(u.a)(Object(u.a)({},t),{},{isLittleEndian:e.persistent.isLittleEndian,blueprints:e.persistent.entries.list})}),(function(e){return{toggleEndian:function(){return e({type:"ENDIAN_TOGGLE"})}}}))(ye),Oe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"byte-output"},r.a.createElement("div",{className:"output-settings"},r.a.createElement("div",{className:"wrapper"},r.a.createElement(de,null),r.a.createElement(Ee,null),r.a.createElement(oe,null))),this.props.hasErrors?r.a.createElement("div",{className:"err-msg"},"Your inputs caused the following error(s):",r.a.createElement("ul",null,je(this.props.builderError),je(this.props.formatError))):r.a.createElement(ve,null))}}]),n}(r.a.Component);function je(e){if(e)return r.a.createElement("li",null,"          ",e,"        ")}var Ce=Object(s.b)((function(e,t){return Object(u.a)(Object(u.a)({},t),{},{builderError:e.outputBuilderResult.errorMessage,formatError:e.parsedFormat.errorMessage,hasErrors:e.hasErrors})}))(Oe),we=n(27);function Ie(e){return e.hasErrors=void 0!==(e.outputBuilderResult.errorMessage||e.parsedFormat.errorMessage),e}function Se(e,t){switch(e||(console.warn("No state was supplied to reducer. Falling back to default values"),e=ke),e=Object(u.a)(Object(u.a)({},e),{},{updateCounter:e.updateCounter+1}),t.type){case"FORMAT_CHANGED":var n=t.payload;return Ie(Object(u.a)(Object(u.a)({},e),{},{persistent:Object(u.a)(Object(u.a)({},e.persistent),{},{format:n}),parsedFormat:le(n.value)}));case"ENDIAN_TOGGLE":return S(Object(u.a)(Object(u.a)({},e),{},{persistent:Object(u.a)(Object(u.a)({},e.persistent),{},{isLittleEndian:!e.persistent.isLittleEndian})}));case"LIST_ADD":case"LIST_SWAP":case"LIST_ITEM_UPDATE":case"LIST_DELETE":case"LIST_DELETE_ALL":var a={list:Object(h.a)(e.persistent.entries.list),nextId:e.persistent.entries.nextId};return a=function(e,t){switch(t.type){case"LIST_ADD":var n=j.defaultValues();return n.pattern="A".repeat(e.list.length+1),e.list.push({key:e.nextId,data:n}),e.nextId+=1,e;case"LIST_SWAP":var a=t.payload,r=e.list[a.indexA];return e.list[a.indexA]=e.list[a.indexB],e.list[a.indexB]=r,e;case"LIST_ITEM_UPDATE":var o=t.payload;return e.list[o.index]={key:e.list[o.index].key,data:o.newValue},e;case"LIST_DELETE":var i=t.payload;return e.list.splice(i,1),e;case"LIST_DELETE_ALL":return{list:[],nextId:0}}throw new Error("Case not handled!")}(a,t),Ie(S(Object(u.a)(Object(u.a)({},e),{},{persistent:Object(u.a)(Object(u.a)({},e.persistent),{},{entries:a})})));case"SET_STATE":var r=t.payload;return Ie(S(Object(u.a)(Object(u.a)({},r),{},{updateCounter:e.updateCounter,parsedFormat:le(r.persistent.format.value)})))}return e}var ke={persistent:{isLittleEndian:!0,format:ue,entries:{list:[],nextId:0}},updateCounter:0,outputBuilderResult:{byteStrings:[]},parsedFormat:le(ue.value),hasErrors:!1},xe=void 0;if(window.__REDUX_DEVTOOLS_EXTENSION__){xe=window.__REDUX_DEVTOOLS_EXTENSION__({trace:!1,traceLimit:25})}var Te=Object(we.b)(Se,ke,xe),Le="";function Ne(){var e="#state="+function(e){var t=(n=e,{le:n.isLittleEndian,f:{s:n.format.selected,v:n.format.value,c:n.format.custom},l:n.entries.list.map((function(e){return e.data}))});var n;return a=JSON.stringify(t),btoa(a).replace(P,"-").replace(Y,"_").replace(z,"");var a}(Te.getState().persistent);return Le=e,window.location.hash=e,window.location.href}function Be(){if(window.location.hash){var e="http://example.com/?"+window.location.hash.slice(1),t=new URL(e).searchParams.get("state");if(t)return Ae(t)}return console.log("URI does not contain data to import"),!1}function Ae(e){try{var t=function(e){try{var t=Ge((function(){return function(e){var t=(e=e.replace(Q,"+").replace($,"/")).length%4;return 0!==t&&(e+="===".slice(0,4-t)),atob(e)}(e)}),"Decoding base64 failed\nBase64 text: '".concat(e,"'")),n=Ge((function(){return JSON.parse(t)}),"Decoding JSON failed!\nJSON: ".concat(t));if(!n)throw new Error("Missing keys in decoded JSON");return function(e){var t=e.l.map((function(e,t){return{key:t,data:e}}));return Object(u.a)(Object(u.a)({},ke),{},{persistent:{isLittleEndian:e.le,format:{selected:e.f.s,value:e.f.v,custom:e.f.c},entries:{list:t,nextId:t.length}}})}(n)}catch(a){throw new Error("deserialize failed: ".concat(a))}}(e);return Te.dispatch({type:"SET_STATE",payload:t}),!0}catch(n){return console.error("Loading state failed:",n),!1}}function Ge(e,t){try{return e()}catch(n){throw new Error("".concat(t,"\n\nCaused by '").concat(n,"'"))}}var Ve=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=Ne();return r.a.createElement("span",null,"You can return to the current state (or share it with someone) by visiting:",r.a.createElement("br",null),r.a.createElement("br",null),e,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"[Warning] This software is still under development, so I might change/break the format sometimes."))}}]),n}(r.a.Component),_e=Object(s.b)((function(e,t){return Object(u.a)(Object(u.a)({},t),{},{state:e.persistent})}),(function(e){return{}}))(Ve),Re=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-root"},r.a.createElement("div",{id:"input"},r.a.createElement(H,null)),r.a.createElement("div",{id:"output"},r.a.createElement(Ce,null)),r.a.createElement("div",{id:"export-link",className:"export-link"},r.a.createElement(_e,null)))}}]),n}(r.a.Component),De=Object(s.b)((function(e,t){return Object(u.a)({},t)}),(function(e){return{}}))(Re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){if(!Be()){console.info("Falling back on default values");Ae("eyJsZSI6dHJ1ZSwiZiI6eyJzIjoiaGV4ZHVtcCIsInYiOiIlaCIsImMiOiJ5b3VyQ29tbWFuZCAtLWZsYWdzICcleCcifSwibCI6W3sicGF0dGVybiI6Ij09PSBRdWljayBzdGFydCBpbnN0cnVjdGlvbnMgPT09IiwicmVwZWF0Q291bnQiOjEsInR5cGUiOiJTdHJpbmcifSx7InBhdHRlcm4iOiIgLSBJbnB1dCBub24gYXNjaWkgY2hhcnMgbGlrZSB0aGlzOiBcXHg_PyB3aGVyZSA_PyBpcyB0aGUgaGV4IGNvZGUgb2YgdGhlIGNoYXIiLCJyZXBlYXRDb3VudCI6MSwidHlwZSI6IlN0cmluZyJ9LHsicGF0dGVybiI6IiAgIEFsbCBvdGhlciBiYWNrc2xhc2hlcyBhcmUgZXNjYXBlZC4gU28gdXNlICdcXHgwYScgaW5zdGVhZCBvZiAnXFxuJyEiLCJyZXBlYXRDb3VudCI6MSwidHlwZSI6IlN0cmluZyJ9LHsicGF0dGVybiI6IiAtIFlvdSBjYW4gYWRkIHBhZGRpbmcgbGlrZSBiZWxvdzoiLCJyZXBlYXRDb3VudCI6MSwidHlwZSI6IlN0cmluZyJ9LHsicGF0dGVybiI6IlxceDkwIiwicGFkZFRvTGVuZ3RoIjoiMHgxMDAiLCJ0eXBlIjoiUGFkZGluZyJ9LHsicGF0dGVybiI6IiAtIFlvdSBjYW4gcHV0IGFuIGFkZHJlc3MgaW50byBtZW1vcnkgbGlrZSBiZWxvdzoiLCJyZXBlYXRDb3VudCI6MSwidHlwZSI6IlN0cmluZyJ9LHsibnVtYmVyU3RyaW5nIjoiMHgxMjM0NTY3OCIsIm51bWJlclR5cGUiOiIzMiBiaXQiLCJ0eXBlIjoiSW50ZWdlciJ9LHsicGF0dGVybiI6IiAtIFlvdSBjYW4gc2VlIHRoZSBvdXRwdXQgaW4gdGhlIGJveCBiZWxvdyIsInJlcGVhdENvdW50IjoxLCJ0eXBlIjoiU3RyaW5nIn0seyJwYXR0ZXJuIjoiICAgVGhlcmUgYXJlIG11bHRpcGxlIHN1cHBvcnRlZCBvdXRwdXQgZm9ybWF0cyIsInJlcGVhdENvdW50IjoxLCJ0eXBlIjoiU3RyaW5nIn1dfQ")||alert("[Bug/Compat breaking change] Parsing hardcoded initial state failed")}}(),window.addEventListener("hashchange",(function(){window.location.hash!==Le?(Le=window.location.hash,console.log("Hash changed externally, let's import the new state"),Be()):console.debug("Hash changed, but the app did it")})),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:Te},r.a.createElement(De,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e,t,n){e.exports=n(117)},78:function(e,t,n){}},[[67,1,2]]]);
//# sourceMappingURL=main.67a3245f.chunk.js.map