(this.webpackJsonpreact_payload_builder=this.webpackJsonpreact_payload_builder||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),s=n.n(o),i=(n(14),n(1)),u=n(2),l=n(4),c=n(3),p=(n(15),function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onMoveUp=function(){e.props.index>0&&e.props.onItemsSwap(e.props.index,e.props.index-1)},e.onMoveDown=function(){e.props.isLast||e.props.onItemsSwap(e.props.index,e.props.index+1)},e.onDelete=function(){e.props.onItemDelete(e.props.index)},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("li",{className:"list-item multi-colored"},this.props.children,r.a.createElement("div",{className:"list-item-controls"},r.a.createElement("input",{type:"button",value:"Up",onClick:this.onMoveUp,disabled:0===this.props.index}),r.a.createElement("input",{type:"button",value:"Down",onClick:this.onMoveDown,disabled:this.props.isLast}),r.a.createElement("input",{type:"button",value:"Delete",onClick:this.onDelete})))}}]),n}(r.a.Component)),h=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onItemAdd=function(){var e=a.state.entries.slice(),t=a.props.newItemData(e.length),n={key:a.state.nextId,data:t};e.push(n),a.onChange(e,a.state.nextId+1)},a.onItemChange=function(e,t){var n=a.state.entries.slice(),r={key:n[e].key,data:t};n[e]=r,a.onChange(n,a.state.nextId)},a.onItemSwapped=function(e,t){var n=a.state.entries.slice(),r=n[e];n[e]=n[t],n[t]=r,a.onChange(n,a.state.nextId)},a.onItemDeleted=function(e){var t=a.state.entries.slice();t.splice(e,1),a.onChange(t,a.state.nextId)},a.state={entries:[],nextId:0},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",null,"Hex builder"),r.a.createElement("ol",{className:"list"},this.state.entries.map((function(t,n){var a={index:n,data:t.data,onChange:e.onItemChange};return r.a.createElement(p,{index:n,key:t.key,isLast:n+1===e.state.entries.length,onItemDelete:e.onItemDeleted,onItemsSwap:e.onItemSwapped},r.a.createElement(e.props.entryClass,a))})),r.a.createElement("li",{key:-1},r.a.createElement("input",{type:"button",value:"Add new element",onClick:this.onItemAdd}))))}},{key:"onChange",value:function(e,t){this.setState({entries:e,nextId:t}),this.props.onChange(e)}}]),n}(r.a.Component),v=function(){function e(t){Object(i.a)(this,e),this.str=void 0,this.bytes=void 0,this.str=t,this.bytes=[],this.updateByteCount()}return Object(u.a)(e,[{key:"updateByteCount",value:function(){var e=0;for(this.bytes=[];e<this.str.length;)if("\\"===this.str[e]&&e+1<this.str.length&&"x"===this.str[e+1]){if(isNaN(parseInt(this.str[e+2],16))||isNaN(parseInt(this.str[e+3],16)))throw new Error("Not a valid hex escape: '"+this.str.slice(e+2,e+4)+"'");this.bytes.push(this.str.slice(e,e+4)),e+=4}else this.bytes.push(this.str[e]),e+=1}},{key:"getReversed",value:function(){for(var t="",n=this.bytes.length-1;n>=0;n--)t+=this.bytes[n];return new e(t)}}],[{key:"fromHex",value:function(t){if(t.length%2===1)throw new Error("Hex has odd length");for(var n="",a=0;a<t.length;a+=2)n+="\\x"+t.slice(a,a+2);return new e(n)}}]),e}(),f=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",paddToLength:1,type:"Padding"}}},{key:"paddingToBytes",value:function(e,t){for(var n=0,a=0;a<t.length;a++)n+=t[a].bytes.length;var r=e.paddToLength-n;r<0&&w("Padding should be applied up to index ".concat(e.paddToLength,", but the string is already longer than that (length=").concat(n,")"));var o=new v(e.pattern?e.pattern:"?"),s=Math.floor(r/o.bytes.length),i=r-s*o.bytes.length,u=o.str.repeat(s),l=o.bytes.slice(0,i).join("");return new v(u+l)}}]),e}(),g=new Map;g.set("8 bit",0xffn),g.set("16 bit",0xffffn),g.set("32 bit",0xffffffffn),g.set("64 bit",0xffffffffffffffffn);var d=new Map;d.set("8 bit",1),d.set("16 bit",2),d.set("32 bit",4),d.set("64 bit",8);var m=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,null,[{key:"defaultValues",value:function(){return{numberString:"0x41414141",numberType:"32 bit",type:"Integer"}}},{key:"getErrorMessage",value:function(t){try{var n=e.parseNumber(t.numberString),a=t.numberType,r=g.get(a);if(!r)throw new Error("Unknown number type: ".concat(a));var o=r;if(n>o)return"Number to big for '".concat(a,"'");if(n<0n&&n<(o+1n)/BigInt(-2))return"Number to big for '".concat(a,"'")}catch(s){return"Parsing integer failed"}}},{key:"parseNumber",value:function(e){return e=e.replace(/[\s_]+/g,""),BigInt(e)}},{key:"integerToBytes",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.getErrorMessage(t);a&&w(a);var r=e.parseNumber(t.numberString),o=g.get(t.numberType),s=d.get(t.numberType);if(!o||!s)throw new Error("Unknown number type: ".concat(t.numberType));r<0n&&(r+=o+1n);var i=r.toString(16),u=2*s-i.length;i="0".repeat(u)+i;var l=v.fromHex(i);return n?l.getReversed():l}}]),e}(),y=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",repeatCount:1,type:"String"}}},{key:"stringToBytes",value:function(e){var t=e.repeatCount,n=e.pattern.repeat(t);return new v(n)}}]),e}(),b=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,null,[{key:"defaultValues",value:function(){return{pattern:"A",repeatCount:1,type:"String (reversed)"}}},{key:"stringToBytes",value:function(e){var t=e.repeatCount,n=new v(e.pattern).getReversed().str.repeat(t);return new v(n)}}]),e}(),C={key:-1,data:new v("Error: Please check your inputs. @dev: This message should not be shown")};function w(e){var t=new Error(e||"Something went wrong. Please check your inputs");throw t.name="BadInputError",t}var k=function(){function e(){Object(i.a)(this,e)}return Object(u.a)(e,null,[{key:"getBytesStrings",value:function(t){var n=0;try{var a=[],r=[];for(n=0;n<t.length;n++){var o=e.toBytes(t[n].data,r),s={key:t[n].key,data:o};r.push(o),a.push(s)}return{byteStrings:a}}catch(i){if("BadInputError"===i.name)return{errorMessage:"Error in input ".concat(n+1,": ").concat(i.message),byteStrings:[C]};throw i}}},{key:"toBytes",value:function(e,t){switch(e.type){case"Padding":return f.paddingToBytes(e,t);case"Integer":return m.integerToBytes(e,!0);case"String":return y.stringToBytes(e);case"String (reversed)":return b.stringToBytes(e);default:return new v("<Unknown type>")}}}]),e}(),O=n(8),j=n.n(O),E=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onClick=function(e){var t=a.props.text;j()(t),a.setState({copiedText:t})},a.state={copiedText:null},a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.text===this.state.copiedText?"Copied":"Copy";return r.a.createElement("button",{onClick:this.onClick},e)}}]),n}(r.a.Component),x=n(5),I=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("select",{onChange:function(t){e.props.onChange(t.target.value)},value:this.props.value},r.a.createElement("option",{value:"",key:-1,disabled:!0,hidden:!0},this.props.prompt?this.props.prompt:"Choose a option"),this.props.options.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))}}],[{key:"defaultValue",value:function(){return""}}]),n}(r.a.Component),T=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).onTypeChange=function(e){if(e!==a.props.values.option){var t;if(a.isCustom(e))t=a.state.lastCustomValue;else if(a.isCustom()&&a.setState({lastCustomValue:a.props.values.value}),void 0===(t=a.props.options.get(e)))throw new Error("[BUG] Type has no value mapped");var n={option:e,value:t};a.props.onChange(n)}},a.onValueChange=function(e){if(a.isCustom()){var t={option:a.props.values.option,value:e.target.value};a.props.onChange(t)}};var r=e.options.get(e.customOption);if(void 0===r)throw new Error("Initial value for customOption is not suppplied");return a.state={lastCustomValue:r},a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I,{value:this.props.values.option,onChange:this.onTypeChange,options:Object(x.a)(this.props.options.keys())}),this.isCustom()?r.a.createElement("input",{type:"text",value:this.props.values.value,onChange:this.onValueChange}):null)}},{key:"isCustom",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return(t=null!==(e=t)&&void 0!==e?e:this.props.values.option)===this.props.customOption}}]),n}(r.a.Component),S=new Map;S.set("python","python -c 'print(\"%s\")'"),S.set("printf","printf '%s'"),S.set("raw","%s"),S.set("custom","your_command --flags '%s'");var N=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var a,r;Object(i.a)(this,n),(r=t.call(this,e)).onFormatChange=function(e){r.setState({format:e})};var o=null!==(a=S.get("raw"))&&void 0!==a?a:"%s";return r.state={format:{option:"raw",value:o}},r}return Object(u.a)(n,[{key:"render",value:function(){var e,t=this.state.format.value.split("%s");2!==t.length&&(e='Format has to contain exactly one "%s" (without the quotes)');var n=[],a=k.getBytesStrings(this.props.blueprints);a.errorMessage?e=a.errorMessage:n=a.byteStrings.map((function(e){var t;return{key:e.key,str:(t=e.data.str,t.replace(/'/g,"\\x27").replace(/"/g,"\\x22").replace(/ /g,"\\x20"))}}));var o=n.map((function(e){return e.str})).join("");return o=t[0]+o+t[1],r.a.createElement("div",null,"Output format: ",r.a.createElement(T,{options:S,values:this.state.format,customOption:"custom",onChange:this.onFormatChange}),r.a.createElement("br",null),e?r.a.createElement("span",{className:"err-msg"},e):r.a.createElement("div",{className:"byteOutput"},r.a.createElement(E,{text:o}),r.a.createElement("br",null),t[0],r.a.createElement("span",null,n.map((function(e){return r.a.createElement("span",{className:"multi-colored",key:e.key},e.str)}))),t[1]))}}]),n}(r.a.Component);function V(e){if(""===e)return!0;var t=Number(e);return!isNaN(t)&&t>0&&t<=99999}var B=["Repeat "," up to index "],M=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNumberChange=function(t){V(t.target.value)&&e.onChange({paddToLength:t.target.value})},e.onPatternChange=function(t){e.onChange({pattern:t.target.value})},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,B[0],r.a.createElement("input",{type:"text",value:this.props.values.pattern,onChange:this.onPatternChange}),B[1],r.a.createElement("input",{type:"text",value:this.props.values.paddToLength,onChange:this.onNumberChange}))}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),A=["8 bit","16 bit","32 bit","64 bit"],D=[" as "," integer"],P=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onTypeChange=function(t){e.onChange({numberType:t})},e.onValueChange=function(t){var n=t.target.value;/^([0-9a-fA-Fxo]*)$/.test(n)&&e.onChange({numberString:n})},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:this.props.values.numberString,onChange:this.onValueChange}),D[0],r.a.createElement(I,{value:this.props.values.numberType,onChange:this.onTypeChange,options:A}),D[1])}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),L=["Repeat "," exactly "," time(s)"],U=["Reverse "," and repeat it "," time(s)"],_=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNumberChange=function(t){V(t.target.value)&&e.onChange({repeatCount:t.target.value})},e.onPatternChange=function(t){e.onChange({pattern:t.target.value})},e}return Object(u.a)(n,[{key:"render",value:function(){var e="String (reversed)"===this.props.values.type?U:L;return r.a.createElement("div",null,e[0],r.a.createElement("input",{type:"text",value:this.props.values.pattern,onChange:this.onPatternChange}),e[1],r.a.createElement("input",{type:"text",value:this.props.values.repeatCount,onChange:this.onNumberChange}),e[2])}},{key:"onChange",value:function(e){this.props.onChange(Object.assign({},this.props.values,e))}}]),n}(r.a.Component),R=new Map;R.set("Integer",{defaultValues:m.defaultValues,viewClass:P}),R.set("String",{defaultValues:y.defaultValues,viewClass:_}),R.set("String (reversed)",{defaultValues:b.defaultValues,viewClass:_}),R.set("Padding",{defaultValues:f.defaultValues,viewClass:M});var F=Object(x.a)(R.keys());function H(e){var t=R.get(e);if(!t)throw Error("Unknown type: ".concat(e));return t}var G=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onTypeChange=function(t){e.onChange(t,H(t).defaultValues())},e.onChildChange=function(t){e.onChange(e.props.data.type,t)},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"editListView"},"Type: ",r.a.createElement(I,{value:this.props.data.type,options:F,onChange:this.onTypeChange}),this.renderChild(this.props.data.type))}},{key:"onChange",value:function(e,t){var n=Object.assign(t,{type:e});this.props.onChange(this.props.index,n)}},{key:"renderChild",value:function(e){var t=H(e).viewClass,n={onChange:this.onChildChange,values:this.props.data};return r.a.createElement(t,n)}},{key:"typeToClass",value:function(e){var t,n=null===(t=R.get(e))||void 0===t?void 0:t.viewClass;if(!n)throw Error("Unknown type: ".concat(e));return n}}]),n}(r.a.Component),J=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onListChange=function(e){a.setState({blueprints:e})},a.state={blueprints:[]},a}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-root"},r.a.createElement("a",{href:"http://six-two.github.io/react_payload_builder"},"View the Gitlab Pages version"),r.a.createElement(h,{onChange:this.onListChange,entryClass:G,newItemData:function(e){var t=y.defaultValues();return t.repeatCount=e+1,t}}),r.a.createElement(N,{blueprints:this.state.blueprints}))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.75fa53a1.chunk.js.map