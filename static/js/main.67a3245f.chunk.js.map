{"version":3,"sources":["app/views/ChooseOptionView.tsx","app/Common.ts","app/views/input/PaddingEditView.tsx","app/hex/ByteString.ts","app/hex/Padding.ts","app/hex/String.ts","app/hex/ByteStringBuilder.ts","app/hex/Integer.ts","app/views/input/IntegerEditView.tsx","app/views/input/StringEditView.tsx","app/views/input/RowControls.tsx","app/views/input/InputTableRow.tsx","app/views/input/InputTable.tsx","app/redux/actions.ts","app/hex/Escaper.ts","app/views/output/CopyButton.tsx","app/views/PresetOrCustomString.tsx","app/views/output/FormatChooser.tsx","app/views/output/HexDumpView.tsx","app/views/output/ColoredHexStringView.tsx","app/views/output/EndianToggleView.tsx","app/views/output/OutputView.tsx","app/redux/reducer.ts","app/redux/store.ts","app/redux/persistence.ts","app/views/output/ExportUriView.tsx","App.tsx","serviceWorker.js","index.js"],"names":["ChooseOptionView","onChange","event","props","target","value","this","key","disabled","hidden","prompt","options","map","i","React","Component","toHex","length","toString","toUpperCase","padStart","isValidRepeatCountWhileEditing","repeatCountString","repeatCount","Number","isNaN","LABELS","PaddingEditView","onNumberChange","Common","paddToLength","onPatternChange","pattern","className","type","values","changedValues","Object","assign","hexEscapeRegex","ByteString","bytes","join","other","push","copy","reverse","n","repeated","str","slice","match","hex","Error","len","result","Array","Utils","padding","previousByteStrings","offset","missing","throwBadInputError","patternBytes","fromString","Math","floor","incompleteSize","incompletePadding","ReversedUtils","reversed","ERROR_BYTE_STRING","data","message","e","name","buildOutput","state","res","blueprintList","isLittleEndian","processed","previous","toBytes","entry","byteStrings","errorMessage","getBytesStrings","persistent","entries","list","outputBuilderResult","blueprint","Padding","paddingToBytes","Int","integerToBytes","Str","stringToBytes","TYPE","MAX_INT_MAP","Map","set","BYTE_COUNT_MAP","numberString","numberType","integer","num","parseNumber","maxOrNull","get","max","BigInt","string","replace","littleEndian","error","getErrorMessage","byteCount","missingChars","repeat","fromHex","INT_SIZES","LABLES","IntegerEditView","onTypeChange","newValue","onValueChange","test","LABELS_NORMAL","LABELS_REVERSED","StringEditView","labels","ItemControls","onMoveUp","index","onItemsSwap","onMoveDown","isLast","onDelete","onItemDelete","upClassName","undefined","downClassName","onClick","aria-hidden","TYPE_MAP","defaultValues","viewClass","Integer","String","Pad","TYPES","keys","getTypeInfo","ret","InputTableRow","newType","onChildChange","newValues","renderChild","newData","createElement","InputTable_","elem","deleteListItem","swapListItems","updateItem","colSpan","addListItem","deleteAllListItems","InputTable","connect","ownProps","dispatch","indexA","indexB","payload","listItemSwap","listItemDelete","listItemChanged","REGEX_PLUS","REGEX_SLASH","REGEX_EQUAL","REGEX_MINUS","REGEX_UNDERSCORE","escapeBytes","unescaped","escapeFunction","urlEscapeByte","byte","encodeURIComponent","byteToValue","parseInt","charCodeAt","toHexdumpChar","numVal","fromCharCode","byteToHex","printfEscapeByte","CopyButton_","textToCopy","getTextToCopy","setState","updateCounterWhenCopied","updateCounter","buttonText","hasErrors","format","getEscapedTextToCopy","Esc","console","escapedByteStrings","builderResult","bs","CopyButton","parsedFormat","PresetOrCustomStringView","newOption","newState","selected","customOption","custom","tmp","onStateChange","onTextChange","label","FORMAT_MAP","DEFAULT_FORMAT_STATE","INSERT_HERE_REGEX","parseFormatString","formatString","split","formatStart","formatEnd","FormatChooser_","PresetOrCustomString","setFormat","FormatChooser","ColoredHexDumpView_","text","bytesPerRow","showOffset","showAscii","rows","missingInRow","items","toAdd","color","renderRow","ascii","extraClass","headerRow","offsets","min","array","range","paddingChar","startPadding","ceil","endPadding","centerString","row","item","colorClass","hexString","asciiString","ColoredHexDumpView","ColoredHexStringView_","renderWithEscapeFunction","escapedTaggedStrings","ColoredHexStringView","EndianToggleView_","isVisible","checked","toggleEndian","blueprints","EndianToggleView","OutputView_","renderError","builderError","formatError","OutputView","updateErrors","modifyInPlace","reducer","action","warn","fallbackState","nextId","newEntry","StringUtils","splice","updateList","devTools","window","__REDUX_DEVTOOLS_EXTENSION__","trace","traceLimit","store","createStore","currentHash","exportToUri","newHash","s","le","f","v","c","l","x","JSON","stringify","btoa","serialize","getState","location","hash","href","tryImportFromUri","mockUrl","URL","searchParams","tryImportFromString","log","jsonText","tryOrMessage","base64","lastBlockSize","atob","uriSafeDecode","parse","unminimizeState","deserialize","fn","ExportUriView_","url","ExportUriView","App_","id","App","Boolean","hostname","info","alert","importData","addEventListener","debug","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.67a3245f.chunk.js","sourcesContent":["import React from 'react';\n\nexport class ChooseOptionView extends React.Component<ChooseOptionViewProps, {}> {\n  static defaultValue(): string {\n    return \"\";\n  }\n\n  render() {\n    return (<select onChange={(event) => { this.props.onChange(event.target.value) }} value={this.props.value}>\n      <option value=\"\" key={-1} disabled hidden>\n        {this.props.prompt ? this.props.prompt : \"Choose a option\"}\n      </option>\n      {this.props.options.map((value: string, i: number) => {\n        // Here using key=index should be ok, since the order should not change\n        return <option value={value} key={i}>{value}</option>;\n      })}\n    </select>);\n  }\n}\n\nexport interface ChooseOptionViewProps {\n  prompt?: string,\n  value: string,\n  options: string[],\n  onChange: (newValue: string) => void,\n}\n\nexport default ChooseOptionView;\n","// Do not allow arbitrary large values for repeatCount, paddToLength, etc to\n// prevent you from accidentially DoS'ing yourself. Happened to me ;D\nexport const MAX_REPEAT_INT = 100000 - 1;\nexport const OUTPUT_COLORS = [\"red\", \"green\", \"blue\"];\n\nexport function toHex(value: number, length: number = 2){\n  return value.toString(16).toUpperCase().padStart(length, \"0\")\n}\n\nexport function range(min: number, max: number): number[] {\n  let array = [];\n  for (let i = min; i < max; i++) {\n    array.push(i);\n  }\n  return array;\n}\n\nexport function centerString(text: string, length: number, paddingChar: string) {\n  paddingChar = paddingChar[0];\n  let missing = length - text.length;\n  if (missing > 0) {\n    let startPadding = Math.ceil(missing / 2);\n    let endPadding = Math.floor(missing / 2);\n    text = paddingChar.repeat(startPadding) + text + paddingChar.repeat(endPadding);\n  }\n  return text;\n}\n\nexport function isValidRepeatCountWhileEditing(repeatCountString: string): boolean {\n  if (repeatCountString === \"\") {\n    // allow the empty string while editing\n    return true;\n  } else {\n    const repeatCount = Number(repeatCountString);\n    return (!isNaN(repeatCount)) && (repeatCount > 0) && (repeatCount <= MAX_REPEAT_INT);\n  }\n}\n\nexport function clamp(minInclusive: number, value: number, maxInclusive: number) {\n  return Math.max(minInclusive, Math.min(value, maxInclusive));\n};\n","import React from 'react';\nimport * as Padding from '../../hex/Padding';\nimport * as Common from '../../Common';\n\nconst LABELS = [\"Repeat \", \" up to index \"];\n\nexport default class PaddingEditView extends React.Component<Props> {\n  render() {\n    return (\n      <div className=\"edit-container\">\n        {LABELS[0]}\n        <input className=\"input-string\" type=\"text\"\n          value={this.props.values.pattern}\n          onChange={this.onPatternChange} />\n        {LABELS[1]}\n        <input className=\"input-count\" type=\"text\"\n          value={this.props.values.paddToLength}\n          onChange={this.onNumberChange} />\n      </div>);\n  }\n\n  onNumberChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (Common.isValidRepeatCountWhileEditing(event.target.value)) {\n      this.onChange({ paddToLength: event.target.value });\n    }\n  }\n\n  onPatternChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.onChange({ pattern: event.target.value });\n  }\n\n  onChange(changedValues: any) {\n    this.props.onChange(Object.assign({}, this.props.values, changedValues));\n  }\n}\n\nexport interface Props {\n  values: Padding.Values,\n  onChange: (newValues: Padding.Values) => void,\n}\n","const hexEscapeRegex = /\\x[0-9a-fA-F]{2}/\n\nexport default class ByteString {\n  bytes: string[];\n\n  constructor(bytes: string[]) {\n    this.bytes = bytes;\n  }\n\n  get length(): number {\n    return this.bytes.length;\n  }\n\n  toString(): string {\n    return this.bytes.join(\"\");\n  }\n\n  append(other: ByteString) {\n    this.bytes.push(...other.bytes);\n  }\n\n  reversed(): ByteString {\n    let copy = [...this.bytes];\n    copy.reverse();\n    return new ByteString(copy);\n  }\n\n  repeated(n: number): ByteString {\n    let repeated = [];\n    for (let i = 0; i < n; i++) {\n      repeated.push(...this.bytes);\n    }\n    return new ByteString(repeated);\n  }\n\n  static fromString(str: string): ByteString {\n    let bytes: string[] = [];\n    let i = 0;\n    while (i < str.length) {\n      let slice = str.slice(i, i + 4);\n      if (slice.match(hexEscapeRegex)) {\n        // add \"\\x??\" as one byte\n        bytes.push(slice);\n        i += 4;\n      } else {\n        bytes.push(str[i]);\n        i += 1;\n      }\n    }\n    return new ByteString(bytes);\n  }\n\n  static fromHex(hex: string): ByteString {\n    if (hex.length % 2 === 1) {\n      throw new Error(\"Hex has odd length\");\n    }\n    const len = hex.length / 2;\n    let result = Array(len);\n    for (var i = 0; i < len; i++) {\n      result[i] = \"\\\\x\" + hex.slice(2 * i, 2 * i + 2);\n    }\n    return new ByteString(result);\n  }\n}\n","import ByteString from \"./ByteString\";\nimport {throwBadInputError} from \"./ByteStringBuilder\";\n\nexport interface Values {\n  paddToLength: number,\n  pattern: string,\n  type: string,\n}\n\nexport const TYPE = \"Padding\";\n\n\nexport class Utils {\n  static defaultValues(): Values {\n    return {\n      pattern: \"A\",\n      paddToLength: 1,\n      type: TYPE,\n    };\n  }\n\n  static paddingToBytes(padding: Values, previousByteStrings: ByteString[]): ByteString {\n    var offset = 0;\n    for (var i = 0; i < previousByteStrings.length; i++) {\n      offset += previousByteStrings[i].bytes.length;\n    }\n    var missing = padding.paddToLength - offset;\n    if (missing < 0) {\n      throwBadInputError(`Padding should be applied up to index ${padding.paddToLength}, but the string is already longer than that (length=${offset})`);\n    }\n    if (!padding.pattern) {\n      throwBadInputError(\"Padding can not be empty\");\n    }\n\n    const patternBytes = ByteString.fromString(padding.pattern);\n    const repeatCount = Math.floor(missing / patternBytes.length);\n    const incompleteSize = missing - (repeatCount * patternBytes.length)\n\n    const incompletePadding: string[] = patternBytes.bytes.slice(0, incompleteSize);\n    let repeated = patternBytes.repeated(repeatCount);\n    repeated.bytes.push(...incompletePadding);\n    return repeated;\n  }\n}\n\nexport default Values;\n","import ByteString from \"./ByteString\";\n\nexport interface Values {\n  repeatCount: number,\n  pattern: string,\n  type: string,\n}\n\nexport const TYPE = \"String\";\nexport const TYPE_REVERSED = \"String (reversed)\";\n\n\nexport class Utils {\n  static defaultValues(): Values {\n    return {\n      pattern: \"A\",\n      repeatCount: 1,\n      type: TYPE,\n    };\n  }\n\n  static stringToBytes(values: Values): ByteString {\n    let bytes = ByteString.fromString(values.pattern);\n    return bytes.repeated(values.repeatCount);\n  }\n}\n\nexport class ReversedUtils {\n  static defaultValues(): Values {\n    return {\n      pattern: \"A\",\n      repeatCount: 1,\n      type: TYPE_REVERSED,\n    };\n  }\n\n  static stringToBytes(values: Values): ByteString {\n    let bytes = ByteString.fromString(values.pattern);\n    return bytes.reversed().repeated(values.repeatCount);\n  }\n}\n\nexport default Values;\n","import { ListEntry, State } from '../redux/store';\nimport * as Padding from './Padding';\nimport * as Int from './Integer';\nimport * as Str from './String';\nimport ByteString from './ByteString';\n\nconst BAD_INPUT_ERROR_NAME = \"BadInputError\";\nconst ERROR_BYTE_STRING: TaggedByteString = {\n  key: -1,\n  data: ByteString.fromString(\"Error: Please check your inputs. @dev: This message should not be shown\"),\n}\n\nexport function throwBadInputError(message: string) {\n  // This function creates an error that signals, that it was caused by bad user input\n  let e = new Error(message || \"Something went wrong. Please check your inputs\")\n  e.name = BAD_INPUT_ERROR_NAME;\n  throw e;\n}\n\nexport function buildOutput(state: State): State {\n  let res = getBytesStrings(state.persistent.entries.list, state.persistent.isLittleEndian);\n  return {\n    ...state,\n    outputBuilderResult: res,\n  };\n}\n\nfunction getBytesStrings(blueprintList: ListEntry[], isLittleEndian: boolean): BuilderResult {\n  let i: number = 0;\n  try {\n    let processed: TaggedByteString[] = [];\n    let previous: ByteString[] = [];\n    for (i = 0; i < blueprintList.length; i++) {\n      let bytes: ByteString = toBytes(blueprintList[i].data, previous, isLittleEndian);\n      let entry = { key: blueprintList[i].key, data: bytes };\n      previous.push(bytes);\n      processed.push(entry);\n    }\n    return { byteStrings: processed };\n  } catch (e) {\n    if (e.name === BAD_INPUT_ERROR_NAME) {\n      return { errorMessage: `Error in input ${i + 1}: ${e.message}`, byteStrings: [ERROR_BYTE_STRING] };\n    } else {\n      throw e;\n    }\n  }\n}\n\nfunction toBytes(blueprint: AnyValues, previousByteStrings: ByteString[], isLittleEndian: boolean): ByteString {\n  switch (blueprint.type) {\n    case Padding.TYPE:\n      return Padding.Utils.paddingToBytes(blueprint as Padding.Values, previousByteStrings);\n    case Int.TYPE:\n      return Int.Utils.integerToBytes(blueprint as Int.Values, isLittleEndian);\n    case Str.TYPE:\n      return Str.Utils.stringToBytes(blueprint as Str.Values);\n    case Str.TYPE_REVERSED:\n      return Str.ReversedUtils.stringToBytes(blueprint as Str.Values);\n    default:\n      throw new Error(\"Unknown type\");\n  }\n}\n\nexport function isValid(blueprint: AnyValues): boolean {\n  try {\n    toBytes(blueprint, [], true);//will throw error if is not valid\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport type AnyValues = Padding.Values | Int.Values | Str.Values;\n\n\nexport interface BuilderResult {\n  byteStrings: TaggedByteString[],\n  errorMessage?: string,\n}\n\nexport interface TaggedByteString {\n  key: number,\n  data: ByteString,\n}\n","import ByteString from \"./ByteString\";\nimport {throwBadInputError} from \"./ByteStringBuilder\";\n\nexport const INT_8 = \"8 bit\";\nexport const INT_16 = \"16 bit\";\nexport const INT_32 = \"32 bit\";\nexport const INT_64 = \"64 bit\";\nexport const TYPE = \"Integer\";\n\nconst MAX_INT_MAP = new Map<string, bigint>();\nMAX_INT_MAP.set(INT_8, 0xffn);\nMAX_INT_MAP.set(INT_16, 0xffffn);\nMAX_INT_MAP.set(INT_32, 0xffffffffn);\nMAX_INT_MAP.set(INT_64, 0xffffffffffffffffn);\n\nconst BYTE_COUNT_MAP = new Map<string, number>();\nBYTE_COUNT_MAP.set(INT_8, 1);\nBYTE_COUNT_MAP.set(INT_16, 2);\nBYTE_COUNT_MAP.set(INT_32, 4);\nBYTE_COUNT_MAP.set(INT_64, 8);\n\nexport interface Values {\n  numberString: string,\n  numberType: string,\n  type: string,\n}\n\nexport class Utils {\n  static defaultValues(): Values {\n    return {\n      numberString: \"0x41414141\",\n      numberType: INT_32,\n      type: TYPE,\n    };\n  }\n\n  static getErrorMessage(integer: Values) {\n    try {\n      var num: bigint = Utils.parseNumber(integer.numberString);\n      const type: string = integer.numberType;\n      let maxOrNull = MAX_INT_MAP.get(type);\n      if (!maxOrNull) {\n        throw new Error(`Unknown number type: ${type}`);\n      } else {\n        let max: bigint = maxOrNull;\n        if (num > max) {\n          return `Number to big for '${type}'`;\n        }\n        if (num < 0n) {\n          const min: bigint = (max + 1n) / BigInt(-2);\n          if (num < min) {\n            return `Number to big for '${type}'`;\n          }\n        }\n      }\n    } catch (e) {\n      return \"Parsing integer failed\";\n    }\n  }\n\n  static parseNumber(string: string): bigint {\n    // Remove characters that can be used to make strings more human readable\n    string = string.replace(/[\\s_]+/g, \"\");\n    return BigInt(string);\n  }\n\n\n  static integerToBytes(integer: Values,\n    littleEndian: boolean = true): ByteString {\n    var error = Utils.getErrorMessage(integer);\n    if (error) {\n      throwBadInputError(error);\n    }\n    var num: bigint = Utils.parseNumber(integer.numberString);\n    let max = MAX_INT_MAP.get(integer.numberType);\n    let byteCount = BYTE_COUNT_MAP.get(integer.numberType);\n    if (!max || !byteCount) {\n      throw new Error(`Unknown number type: ${integer.numberType}`);\n    }\n    if (num < 0n) {\n      num += max + 1n;\n    }\n    let hex: string = num.toString(16);\n    let missingChars = 2 * byteCount - hex.length;\n    hex = \"0\".repeat(missingChars) + hex;//padd with leading zeros\n    let bytes: ByteString = ByteString.fromHex(hex);\n    return littleEndian ? bytes.reversed() : bytes;\n  }\n}\n","import React from 'react';\nimport ChooseOptionView from '../ChooseOptionView';\nimport * as Int from \"../../hex/Integer\";\n\nconst INT_SIZES = [Int.INT_8, Int.INT_16, Int.INT_32, Int.INT_64];\nconst LABLES = [\" as \", \" integer\"]\n\nexport default class IntegerEditView extends React.Component<Props, {}> {\n  render() {\n    return (\n      <div className=\"edit-container\">\n        <input type=\"text\"\n          value={this.props.values.numberString}\n          onChange={this.onValueChange} />\n        {LABLES[0]}\n        <ChooseOptionView\n          value={this.props.values.numberType}\n          onChange={this.onTypeChange}\n          options={INT_SIZES} />\n        {LABLES[1]}\n      </div>\n    );\n  }\n\n  onTypeChange = (newValue: string) => {\n    this.onChange({ numberType: newValue });\n  }\n\n  onValueChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    // only allow certain input characters: hex and 'o' and 'x' for 0x/0b\n    const newValue = event.target.value;\n    if (/^([0-9a-fA-Fxo]*)$/.test(newValue)) {\n      this.onChange({ numberString: newValue });\n    }\n  }\n\n  onChange(changedValues: any) {\n    this.props.onChange(Object.assign({}, this.props.values, changedValues));\n  }\n}\n\ninterface Props {\n  values: Int.Values,\n  onChange: (newValues: Int.Values) => void,\n}\n","import React from 'react';\nimport * as Str from '../../hex/String';\nimport * as Common from '../../Common';\n\nconst LABELS_NORMAL = [\"\", \" repeated \", \" time(s)\"];\nconst LABELS_REVERSED = [\"Reverse \", \" and repeat it \", \" time(s)\"];\n\nexport default class StringEditView extends React.Component<Props> {\n  render() {\n    const labels = this.props.values.type === Str.TYPE_REVERSED ?\n      LABELS_REVERSED : LABELS_NORMAL;\n    return (\n      <div className=\"edit-container\">\n        {labels[0]}\n        <input className=\"input-string\" type=\"text\"\n          value={this.props.values.pattern}\n          onChange={this.onPatternChange} />\n        {labels[1]}\n        <input className=\"input-count\" type=\"text\"\n          value={this.props.values.repeatCount}\n          onChange={this.onNumberChange} />\n        {labels[2]}\n      </div>);\n  }\n\n  onNumberChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (Common.isValidRepeatCountWhileEditing(event.target.value)) {\n      this.onChange({ repeatCount: event.target.value });\n    }\n  }\n\n  onPatternChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    this.onChange({ pattern: event.target.value });\n  }\n\n  onChange(changedValues: any) {\n    this.props.onChange(Object.assign({}, this.props.values, changedValues));\n  }\n}\n\nexport interface Props {\n  values: Str.Values,\n  onChange: (newValues: Str.Values) => void,\n}\n","import React from 'react';\n\nexport class ItemControls extends React.Component<Props, {}> {\n  render() {\n    let upClassName = this.props.index === 0 ? \"disabled-button\" : undefined;\n    let downClassName = this.props.isLast ? \"disabled-button\" : undefined;\n    return (\n      <div className=\"list-item-controls\">\n        <button\n          className={upClassName}\n          onClick={this.onMoveUp}\n          disabled={this.props.index === 0} >\n          <i className=\"fa fa-arrow-up\" aria-hidden=\"true\" />\n        </button>\n\n        <button\n          className={downClassName}\n          value=\"Down\"\n          onClick={this.onMoveDown}\n          disabled={this.props.isLast} >\n          <i className=\"fa fa-arrow-down\" aria-hidden=\"true\" />\n        </button>\n        <button\n          value=\"Delete\"\n          onClick={this.onDelete} >\n          <i className=\"fa fa-trash\" aria-hidden=\"true\" />\n        </button>\n      </div>);\n  }\n\n  onMoveUp = () => {\n    if (this.props.index > 0) {\n      this.props.onItemsSwap(this.props.index, this.props.index - 1);\n    }\n  }\n\n  onMoveDown = () => {\n    if (!this.props.isLast) {\n      this.props.onItemsSwap(this.props.index, this.props.index + 1);\n    }\n  }\n\n  onDelete = () => {\n    this.props.onItemDelete(this.props.index);\n  }\n}\n\ninterface Props {\n  index: number,\n  isLast: boolean,\n  onItemsSwap: (srcIndex: number, dstIndex: number) => void,\n  onItemDelete: (index: number) => void,\n}\n\nexport default ItemControls;\n","import React from 'react';\nimport ChooseOptionView from '../ChooseOptionView';\nimport Padding from './PaddingEditView';\nimport Integer from './IntegerEditView';\nimport String from './StringEditView';\nimport ReorderableItemControls from './RowControls';\nimport * as Int from '../../hex/Integer';\nimport * as Pad from '../../hex/Padding';\nimport * as Str from '../../hex/String';\nimport { AnyValues } from '../../hex/ByteStringBuilder';\n\nconst TYPE_MAP = new Map<string, TypeInfos>();\nTYPE_MAP.set(Int.TYPE, { defaultValues: Int.Utils.defaultValues, viewClass: Integer });\nTYPE_MAP.set(Str.TYPE, { defaultValues: Str.Utils.defaultValues, viewClass: String });\nTYPE_MAP.set(Str.TYPE_REVERSED, { defaultValues: Str.ReversedUtils.defaultValues, viewClass: String });\nTYPE_MAP.set(Pad.TYPE, { defaultValues: Pad.Utils.defaultValues, viewClass: Padding });\nconst TYPES = [...TYPE_MAP.keys()];\n\nfunction getTypeInfo(type: string): TypeInfos {\n  let ret = TYPE_MAP.get(type);\n  if (!ret) {\n    throw Error(`Unknown type: ${type}`);\n  }\n  return ret;\n}\n\nexport default class InputTableRow extends React.Component<Props> {\n  render() {\n    return (\n      <tr className=\"row multi-colored\">\n        <td>\n          <ChooseOptionView value={this.props.data.type} options={TYPES}\n            onChange={this.onTypeChange} />\n        </td>\n        <td>\n          {this.renderChild(this.props.data.type)}\n        </td>\n        <td>\n          <ReorderableItemControls\n            index={this.props.index}\n            isLast={this.props.isLast}\n            onItemsSwap={this.props.onItemsSwap}\n            onItemDelete={this.props.onItemDelete} />\n        </td>\n      </tr>\n    );\n  }\n\n  onTypeChange = (newType: string) => {\n    this.onChange(newType, getTypeInfo(newType).defaultValues());\n  }\n\n  onChildChange = (newValues: AnyValues) => {\n    this.onChange(this.props.data.type, newValues);\n  }\n\n  onChange(newType: string, newValues: AnyValues) {\n    const newData = { ...newValues, type: newType };\n    this.props.onChange(this.props.index, newData);\n  }\n\n  renderChild(type: string): any {\n    const viewClass = getTypeInfo(type).viewClass;\n    const props = {\n      onChange: this.onChildChange,\n      values: this.props.data,\n    };\n    return React.createElement(viewClass, props);\n  }\n};\n\nexport interface Props {\n  index: number,\n  data: AnyValues,\n  isLast: boolean,\n  onItemsSwap: (srcIndex: number, dstIndex: number) => void,\n  onItemDelete: (index: number) => void,\n  onChange: (index: number, newValue: AnyValues) => void,\n}\n\ninterface TypeInfos {\n  defaultValues: () => AnyValues,\n  viewClass: any,\n}\n","import React from 'react';\nimport InputTableRow from './InputTableRow';\nimport { AnyValues } from '../../hex/ByteStringBuilder';\nimport { connect } from 'react-redux';\nimport { ListEntry, State as ReduxState } from '../../redux/store';\nimport {\n  listItemAdd, listItemDelete, listItemSwap,  listItemDeleteAll, listItemChanged\n} from '../../redux/actions';\n\n\nclass InputTable_ extends React.Component<Props>{\n  render() {\n    return (\n      <table className=\"input-table\">\n        <thead>\n          <tr>\n            <th>Type</th>\n            <th>Configuration</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.props.entries.map((elem, index) => {\n            return (\n              <InputTableRow\n                index={index}\n                key={elem.key}\n                isLast={index + 1 === this.props.entries.length}\n                onItemDelete={this.props.deleteListItem}\n                onItemsSwap={this.props.swapListItems}\n                onChange={this.props.updateItem}\n                data={elem.data} />\n            );\n          })}\n          <tr key={-1} className=\"row-buttons\">\n            <td colSpan={2}>\n              <button onClick={this.props.addListItem}>\n                Add new element\n                </button>\n            </td>\n            <td>\n              <button onClick={this.props.deleteAllListItems}>\n                Delete all\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table >\n    );\n  }\n}\n\nexport interface Props {\n  entries: ListEntry[],\n  addListItem: () => void,\n  swapListItems: (indexA: number, indexB: number) => void,\n  deleteListItem: (index: number) => void,\n  deleteAllListItems: () => void,\n  updateItem: (index: number, newValue: AnyValues) => void,\n}\n\nconst mapStateToProps = (state: ReduxState, ownProps: any) => {\n  return {\n    ...ownProps,\n    entries: state.persistent.entries.list,\n  };\n};\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    addListItem: () => dispatch(listItemAdd()),\n    swapListItems: (indexA: number, indexB: number) => dispatch(listItemSwap(indexA, indexB)),\n    deleteListItem: (index: number) => dispatch(listItemDelete(index)),\n    deleteAllListItems: () => dispatch(listItemDeleteAll()),\n    updateItem: (index: number, newValue: AnyValues) => dispatch(listItemChanged(index, newValue)),\n  };\n};\n\nconst InputTable = connect(mapStateToProps, mapDispatchToProps)(InputTable_);\nexport default InputTable;\n","import { FormatState, State } from './store';\nimport { AnyValues } from '../hex/ByteStringBuilder';\n\n\n// action types\nexport const NOOP = \"NOOP\";\nexport const FORMAT_CHANGED = \"FORMAT_CHANGED\";\nexport const ENDIAN_TOGGLE = \"ENDIAN_TOGGLE\";\nexport const LIST_ADD = \"LIST_ADD\";\nexport const LIST_DELETE = \"LIST_DELETE\";\nexport const LIST_DELETE_ALL = \"LIST_DELETE_ALL\";\nexport const LIST_SWAP = \"LIST_SWAP\";\nexport const LIST_ITEM_UPDATE = \"LIST_ITEM_UPDATE\";\nexport const UPDATED_CLIPBORD_MANAGER = \"UPDATED_CLIPBORD_MANAGER\";\nexport const SET_STATE = \"SET_STATE\";\n\n// action payloads\nexport interface ListItemChangePayload {\n  index: number,\n  newValue: AnyValues,\n}\n\nexport interface ListSwapPayload {\n  indexA: number,\n  indexB: number,\n}\n\n// actions\nexport interface ActionWithoutPayload {\n  type: string,\n}\n\nexport interface FormatChangeAction {\n  type: string,\n  payload: FormatState,\n}\n\nexport interface SetStateAction {\n  type: string,\n  payload: State,\n}\n\nexport interface ListSwapAction {\n  type: string,\n  payload: ListSwapPayload,\n}\n\nexport interface ListDeleteAction {\n  type: string,\n  payload: number,\n}\n\nexport interface ListItemChangeAction {\n  type: string,\n  payload: ListItemChangePayload,\n}\n\nexport type Action = ActionWithoutPayload | FormatChangeAction |\n  SetStateAction | ListSwapAction | ListDeleteAction | ListItemChangeAction;\n\n// action creators\nexport function setFormat(format: FormatState): FormatChangeAction {\n  return {\n    type: FORMAT_CHANGED,\n    payload: format,\n  };\n}\n\nexport function toggleEndian(): ActionWithoutPayload {\n  return { type: ENDIAN_TOGGLE };\n}\n\n\nexport function listItemAdd(): ActionWithoutPayload {\n  return { type: LIST_ADD };\n}\n\nexport function listItemDelete(index: number): ListDeleteAction {\n  return { type: LIST_DELETE, payload: index };\n}\n\nexport function listItemSwap(indexA: number, indexB: number): ListSwapAction {\n  return { type: LIST_SWAP, payload: { indexA: indexA, indexB: indexB } };\n}\n\nexport function listItemDeleteAll(): ActionWithoutPayload {\n  return { type: LIST_DELETE_ALL };\n}\n\nexport function listItemChanged(index: number, newValue: AnyValues): ListItemChangeAction {\n  return { type: LIST_ITEM_UPDATE, payload: { index: index, newValue: newValue } };\n}\n\nexport function setState(newState: State): SetStateAction {\n  return { type: SET_STATE, payload: newState };\n}\n","import ByteString from './ByteString';\nimport { toHex } from '../Common';\n\n// non url safe\nconst REGEX_PLUS = /\\+/g;\nconst REGEX_SLASH = /\\//g;\nconst REGEX_EQUAL = /=/g;\n//url safe\nconst REGEX_MINUS = /-/g;\nconst REGEX_UNDERSCORE = /_/g;\n\nexport function uriSafeEncode(data: string): string {\n  const base64 = btoa(data);\n  return base64\n    .replace(REGEX_PLUS, '-')\n    .replace(REGEX_SLASH, '_')\n    .replace(REGEX_EQUAL, '');\n}\n\nexport function uriSafeDecode(base64: string): string {\n  base64 = base64\n    .replace(REGEX_MINUS, '+')\n    .replace(REGEX_UNDERSCORE, '/');\n\n  // add padding again\n  let lastBlockSize = base64.length % 4;\n  if (lastBlockSize !== 0) {\n    base64 += ('===').slice(0, 4 - lastBlockSize);\n  }\n  return atob(base64);\n}\n\nexport function escapeBytes(unescaped: ByteString, escapeFunction: (byte: string) => string): ByteString {\n  return new ByteString(unescaped.bytes.map(escapeFunction));\n}\n\nexport function urlEscapeByte(byte: string): string {\n  if (byte.length >= 4) {\n    // \"\\x??\" -> \"%??\"\n    return \"%\" + byte.slice(2);\n  } else {\n    return encodeURIComponent(byte);\n  }\n}\n\nexport function byteToValue(byte: string): number {\n  if (byte.length === 4) {\n    return parseInt(byte.slice(2), 16);\n  } else {\n    return byte.charCodeAt(0);\n  }\n}\n\nexport function toHexdumpChar(byte: string): string {\n  let numVal = byteToValue(byte);\n  if (32 <= numVal && numVal <= 126) {\n    // is printable ASCII char\n    return String.fromCharCode(numVal);\n  } else {\n    return \".\";\n  }\n}\n\nexport function byteToHex(byte: string): string {\n  return toHex(byteToValue(byte), 2);\n}\n\nexport function printfEscapeByte(byte: string): string {\n  if (byte.length === 1) {\n    switch (byte) {\n      // escape quote signs since they could mess up passing the payload to a program (eg printf)\n      case \"'\":\n        return \"\\\\x27\";\n      case \"\\\"\":\n        return \"\\\\x22\";\n      // escape spaces, since the html (used for displaying) does not handle consecutive whitespaces well\n      case \" \":\n        return \"\\\\x20\";\n      // escape backslashes, since they can cause a lot of problems\n      case \"\\\\\":\n        return \"\\\\x5c\";\n    }\n  }\n  return byte;\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { ParsedFormat, State as ReduxState } from '../../redux/store';\nimport { BuilderResult } from '../../hex/ByteStringBuilder';\nimport copy from 'copy-to-clipboard';\nimport * as Esc from '../../hex/Escaper';\n\n\nclass CopyButton_ extends React.Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { updateCounterWhenCopied: -1 };\n  }\n\n  render() {\n    if (!this.getTextToCopy()) {\n      return null;\n    }\n\n    const isCopied = this.props.updateCounter === this.state.updateCounterWhenCopied;\n    const buttonText = isCopied ? \"Copied\" : \"Copy\";\n    return (\n      <button\n        className=\"copy-button\"\n        onClick={this.onClick}>\n        {buttonText}\n      </button>\n    );\n  }\n\n  onClick = (event: any) => {\n    const textToCopy = this.getTextToCopy();\n    if (textToCopy) {\n      copy(textToCopy);\n      this.setState({ updateCounterWhenCopied: this.props.updateCounter });\n    }\n  }\n\n  getTextToCopy(): string | null {\n    if (this.props.hasErrors) {\n      return null;\n    }\n    switch (this.props.format.format) {\n      case \"%h\":\n        return null;\n      case \"%x\":\n        return this.getEscapedTextToCopy(Esc.printfEscapeByte);\n      case \"%u\":\n        return this.getEscapedTextToCopy(Esc.urlEscapeByte);\n      default:\n        console.error(`Unknown format: ${this.props.format.format}`);\n        return null;\n    }\n  }\n\n  getEscapedTextToCopy(escapeFunction: (byte: string) => string) {\n    const escapedByteStrings = this.props.builderResult.byteStrings.map(\n      (bs) => Esc.escapeBytes(bs.data, escapeFunction).toString()\n    ).join(\"\");\n    return this.props.format.labels.join(escapedByteStrings);\n  }\n}\n\nexport interface Props {\n  updateCounter: number,\n  builderResult: BuilderResult,\n  format: ParsedFormat,\n  hasErrors: boolean,\n}\n\nexport interface State {\n  updateCounterWhenCopied: number,\n}\n\nconst mapStateToProps = (state: ReduxState, ownProps: any) => {\n  return {\n    ...ownProps,\n    updateCounter: state.updateCounter,\n    builderResult: state.outputBuilderResult,\n    format: state.parsedFormat,\n    hasErrors: state.hasErrors,\n  };\n};\n\nconst CopyButton = connect(mapStateToProps)(CopyButton_);\nexport default CopyButton;\n","import React from 'react';\nimport ChooseOptionView from './ChooseOptionView';\nimport { FormatState } from '../redux/store';\n\nexport class PresetOrCustomStringView extends React.Component<Props> {\n  render() {\n    return (\n      <div>\n        {this.props.label}\n        <ChooseOptionView\n          value={this.props.state.selected}\n          onChange={this.onTypeChange}\n          options={[...this.props.options.keys()]} />\n        {this.props.state.selected === this.props.customOption ?\n          <input type=\"text\"\n            value={this.props.state.custom}\n            onChange={this.onTextChange} /> : null}\n      </div>\n    );\n  }\n\n  onTypeChange = (newOption: string) => {\n    let newState = {\n      ...this.props.state,\n      selected: newOption,\n    };\n    if (newOption === this.props.customOption) {\n      newState.value = this.props.state.custom;\n    } else {\n      let tmp = this.props.options.get(newOption);\n      if (tmp === undefined) {\n        throw new Error(`Option ${newOption} has no value mapped`);\n      }\n      newState.value = tmp;\n    }\n    this.props.onStateChange(newState);\n  }\n\n  onTextChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    let newState = {\n      ...this.props.state,\n      value: event.target.value,\n      custom: event.target.value,\n    };\n    this.props.onStateChange(newState);\n  }\n}\n\nexport interface Props {\n  label?: string,\n  options: Map<string, string>,\n  customOption: string,\n  state: FormatState,\n  onStateChange: (newState: FormatState) => void,\n}\n\nexport default PresetOrCustomStringView;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PresetOrCustomStringView from \"../PresetOrCustomString\";\nimport { FormatState, ParsedFormat, State as ReduxState } from '../../redux/store';\nimport { setFormat } from '../../redux/actions';\n\n\nconst CUSTOM_FORMAT = \"custom\";\nconst DEFAULT_FORMAT = \"raw\";\nconst FORMAT_MAP = new Map<string, string>();\nFORMAT_MAP.set(DEFAULT_FORMAT, \"%x\");\nFORMAT_MAP.set(\"hexdump\", \"%h\");\nFORMAT_MAP.set(\"URL escaped\", \"%u\");\nFORMAT_MAP.set(\"python\", \"python -c 'print(\\\"%x\\\")'\");\nFORMAT_MAP.set(\"printf\", \"printf '%x'\");\nFORMAT_MAP.set(CUSTOM_FORMAT, \"You should never see this message! %x\")\n\nexport const DEFAULT_FORMAT_STATE: FormatState = {\n  selected: DEFAULT_FORMAT,\n  value: FORMAT_MAP.get(DEFAULT_FORMAT) || \"Default format value not found! %x\",\n  custom: \"yourCommand --flags '%x'\",\n}\n\nconst INSERT_HERE_REGEX = /%[xuh]/g;\nconst ERROR_MESSAGE = 'Format has to contain exactly one \"%x\" (\\\\x?? escape), \"%u\" (%?? escape) or \"%h\" (hexdump view)'\n\n\nexport function parseFormatString(formatString: string): ParsedFormat {\n  const labels = formatString.split(INSERT_HERE_REGEX);\n  if (labels.length !== 2) {\n    return { errorMessage: ERROR_MESSAGE, format: \"\", labels: [] };\n  }\n  const formatStart = labels[0].length;\n  const formatEnd = formatString.length - (labels[1].length);\n  const format = formatString.slice(formatStart, formatEnd);\n  return { format: format, labels: labels };\n}\n\nclass FormatChooser_ extends React.Component<Props> {\n  render() {\n    return <div className=\"format-chooser\">\n      <PresetOrCustomStringView options={FORMAT_MAP}\n        state={this.props.format}\n        customOption={CUSTOM_FORMAT}\n        onStateChange={this.props.setFormat}\n        label=\"Output format: \" />\n    </div>\n  }\n}\n\nexport interface Props {\n  format: FormatState,\n  setFormat: (format: FormatState) => void,\n}\n\nconst mapStateToProps = (state: ReduxState, ownProps: any) => {\n  return {\n    ...ownProps,\n    format: state.persistent.format,\n  };\n};\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    setFormat: (format: FormatState) => dispatch(setFormat(format)),\n  };\n};\n\nconst FormatChooser = connect(mapStateToProps, mapDispatchToProps)(FormatChooser_);\nexport default FormatChooser;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { BuilderResult } from '../../hex/ByteStringBuilder';\nimport * as Esc from '../../hex/Escaper';\nimport { State as ReduxState } from '../../redux/store';\nimport { centerString, range, toHex } from '../../Common';\n\n\nfunction splitOfBeginning(text: string[], length: number): [string[], string[]] {\n  if (text.length <= length) {\n    return [text, []];\n  } else {\n    return [text.slice(0, length), text.slice(length)];\n  }\n}\n\nclass ColoredHexDumpView_ extends React.Component<Props> {\n  render() {\n    if (this.props.hasErrors) {\n      return null;\n    }\n\n    let bytesPerRow = this.props.bytesPerRow ?? 0x10;\n    let showOffset = this.props.showOffset ?? true;\n    let showAscii = this.props.showAscii ?? true;\n    let colorCount = 3;\n\n    let rows: Row[] = [];\n    let missingInRow = 0;\n\n    // split the bytes into rows\n    for (let i = 0; i < this.props.builderResult.byteStrings.length; i++) {\n      let bytes = this.props.builderResult.byteStrings[i].data.bytes;\n\n      while (bytes.length > 0) {\n        if (missingInRow <= 0) {\n          rows.push({ items: [] });\n          missingInRow = bytesPerRow;\n        }\n        let toAdd;\n        [toAdd, bytes] = splitOfBeginning(bytes, missingInRow);\n        rows[rows.length - 1].items.push({ bytes: toAdd, color: i % colorCount });\n        missingInRow -= toAdd.length;\n      }\n    }\n\n    function renderRow(offset: any, hex: any, ascii: any, extraClass: string = \"\"): any {\n      return <div className={`row${extraClass}`} key={`row-${offset}`}>\n        {showOffset ? <div className=\"cell offset\"><span>{offset}</span></div> : undefined}\n        <div className=\"cell hex\">{hex}</div>\n        {showAscii ? <div className=\"cell ascii\">{ascii}</div> : undefined}\n      </div>\n    }\n\n    let createRow = function(row: Row, index: number): any {\n      let offset = toHex(index * bytesPerRow, 4);\n      let hex = [];\n      let ascii = [];\n      for (let i = 0; i < row.items.length; i++) {\n        let item = row.items[i];\n        let colorClass = `color-${item.color + 1}`;\n        let hexString = item.bytes.map(Esc.byteToHex).join(\" \");\n        if (i !== row.items.length - 1) {\n          hexString += \" \";\n        }\n        let asciiString = item.bytes.map(Esc.toHexdumpChar).join(\"\");\n        asciiString = asciiString.replace(/ /g, \"\\u00a0\");//html safe spaces\n        let key = `hd-${index}-${i}`;\n        hex.push(<span key={key} className={colorClass}>{hexString}</span>);\n        ascii.push(<span key={key} className={colorClass}>{asciiString}</span>)\n      }\n      return renderRow(offset, hex, ascii);\n    }\n\n    let headerRow;\n    if (showOffset) {\n      let offsets = range(0, bytesPerRow).map(i => toHex(i, 2)).join(\" \");\n      headerRow = renderRow(\"\",\n        <span>{offsets}</span>,\n        <span>{centerString(\" ASCII \", bytesPerRow, \"=\")}</span>,\n        \" header-row\");\n    }\n\n    return <div className=\"hexdump\">\n      {headerRow}\n      {rows.map(createRow)}\n    </div>;\n  }\n}\n\n\n\ninterface Row {\n  items: RowItem[],\n}\n\ninterface RowItem {\n  color: number,\n  bytes: string[],\n}\n\nexport interface Props {\n  builderResult: BuilderResult,\n  bytesPerRow?: number,\n  showOffset?: boolean,\n  showAscii?: boolean,\n  hasErrors: boolean,\n}\n\n\nconst mapStateToProps = (state: ReduxState, ownProps: any): Props => {\n  return {\n    ...ownProps,\n    builderResult: state.outputBuilderResult,\n    hasErrors: state.hasErrors,\n  };\n};\n\nconst ColoredHexDumpView = connect(mapStateToProps)(ColoredHexDumpView_);\nexport default ColoredHexDumpView;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { TaggedByteString, BuilderResult } from '../../hex/ByteStringBuilder';\nimport * as Esc from '../../hex/Escaper';\nimport { ParsedFormat, State as ReduxState } from '../../redux/store';\nimport ColoredHexDumpView from './HexDumpView';\n\n\nclass ColoredHexStringView_ extends React.Component<Props> {\n  render() {\n    if (this.props.format.errorMessage) {\n      return null;\n    }\n    switch (this.props.format.format) {\n      case \"%h\":\n        return <ColoredHexDumpView />\n      case \"%x\":\n        return this.renderWithEscapeFunction(Esc.printfEscapeByte);\n      case \"%u\":\n        return this.renderWithEscapeFunction(Esc.urlEscapeByte);\n      default:\n        return <span className=\"err-msg\">\n          BUG: Unknown format: \"{this.props.format.format}\"\n      </span>;\n    }\n  }\n\n  renderWithEscapeFunction(escapeFunction: (byte: string) => string) {\n    const escapedTaggedStrings: TaggedString[] = this.props.builderResult.byteStrings.map((bs: TaggedByteString) => {\n      return {\n        key: bs.key,\n        str: Esc.escapeBytes(bs.data, escapeFunction).toString(),\n      };\n    });\n    const labels = this.props.format.labels;\n\n    return <div className=\"colored-bytes\">\n      {labels[0]}\n      {escapedTaggedStrings.map((value: TaggedString) => {\n        return <span className=\"multi-colored\" key={value.key}>\n          {value.str}\n        </span>;\n      })}\n      {labels[1]}\n    </div>;\n  }\n}\n\nexport interface Props {\n  builderResult: BuilderResult,\n  format: ParsedFormat,\n}\n\ninterface TaggedString {\n  str: string,\n  key: number,\n}\n\nconst mapStateToProps = (state: ReduxState, ownProps: any): Props => {\n  return {\n    ...ownProps,\n    builderResult: state.outputBuilderResult,\n    format: state.parsedFormat,\n  };\n};\n\nconst ColoredHexStringView = connect(mapStateToProps)(ColoredHexStringView_);\nexport default ColoredHexStringView;\n","import React from 'react';\nimport Checkbox from 'rc-checkbox';\nimport { connect } from 'react-redux';\nimport { ListEntry, State as ReduxState } from '../../redux/store';\nimport { toggleEndian } from '../../redux/actions';\n\n\nclass EndianToggleView_ extends React.Component<Props> {\n  render() {\n    if (!this.isVisible()) {\n      return null;\n    }\n\n    return (\n      <div className=\"endian-toggle\">\n        <label>\n          <Checkbox\n            className=\"cell\"\n            checked={this.props.isLittleEndian}\n            onChange={this.props.toggleEndian}\n          />\n          {\"use little endian\"}\n        </label>\n      </div>\n    );\n  }\n\n  isVisible(): boolean {\n    for (let i = 0; i < this.props.blueprints.length; i++) {\n      if (this.props.blueprints[i].data.type === \"Integer\") {\n        // Only show if at least one element is of type Integer\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nexport interface Props {\n  blueprints: ListEntry[],\n  isLittleEndian: boolean,\n  toggleEndian: () => void,\n}\n\nconst mapStateToProps = (state: ReduxState, ownProps: any) => {\n  return {\n    ...ownProps,\n    isLittleEndian: state.persistent.isLittleEndian,\n    blueprints: state.persistent.entries.list,\n  };\n};\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    toggleEndian: () => dispatch(toggleEndian()),\n  };\n};\n\nconst EndianToggleView = connect(mapStateToProps, mapDispatchToProps)(EndianToggleView_);\nexport default EndianToggleView;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport CopyButton from './CopyButton';\nimport FormatChooser from \"./FormatChooser\";\nimport { State as ReduxState } from '../../redux/store';\nimport ColoredHexStringView from './ColoredHexStringView';\nimport EndianToggle from './EndianToggleView';\n\nclass OutputView_ extends React.Component<Props> {\n  render() {\n    return (\n      <div className=\"byte-output\">\n        <div className=\"output-settings\">\n          <div className=\"wrapper\">\n            <FormatChooser />\n            <EndianToggle />\n            <CopyButton />\n          </div>\n        </div>\n        {this.props.hasErrors ?\n          <div className=\"err-msg\">\n            Your inputs caused the following error(s):\n            <ul>\n              {renderError(this.props.builderError)}\n              {renderError(this.props.formatError)}\n            </ul>\n          </div>\n          : <ColoredHexStringView />}\n      </div>\n    );\n  }\n}\n\nfunction renderError(message?: string) {\n  if (message) {\n    return <li>          {message}        </li>\n  }\n}\n\nexport interface Props {\n  builderError?: string,\n  formatError?: string,\n  hasErrors: boolean,\n}\n\nconst mapStateToProps = (state: ReduxState, ownProps: any) => {\n  return {\n    ...ownProps,\n    builderError: state.outputBuilderResult.errorMessage,\n    formatError: state.parsedFormat.errorMessage,\n    hasErrors: state.hasErrors,\n  };\n};\n\nconst OutputView = connect(mapStateToProps)(OutputView_);\nexport default OutputView;\n","import * as Actions from './actions';\nimport { ListState, State, fallbackState } from './store';\nimport { Utils as StringUtils } from '../hex/String';\nimport { buildOutput } from '../hex/ByteStringBuilder';\nimport { parseFormatString } from '../views/output/FormatChooser';\n\nfunction updateErrors(modifyInPlace: State): State {\n  // This should be called aufter all other reducers, since it might depend on them\n  modifyInPlace.hasErrors = (modifyInPlace.outputBuilderResult.errorMessage ||\n    modifyInPlace.parsedFormat.errorMessage) !== undefined;\n  return modifyInPlace;\n}\n\nexport function reducer(state: State | undefined, action: Actions.Action): State {\n  if (!state) {\n    console.warn(\"No state was supplied to reducer. Falling back to default values\");\n    state = fallbackState;\n  }\n\n  state = {\n    ...state,\n    updateCounter: state.updateCounter + 1,\n  };\n\n  switch (action.type) {\n    case Actions.FORMAT_CHANGED: {\n      let payload = (action as Actions.FormatChangeAction).payload;\n      return updateErrors({\n        ...state,\n        persistent: {\n          ...state.persistent,\n          format: payload,\n        },\n        parsedFormat: parseFormatString(payload.value),\n      });\n    }\n    case Actions.ENDIAN_TOGGLE: {\n      return buildOutput({\n        ...state,\n        persistent: {\n          ...state.persistent,\n          isLittleEndian: !state.persistent.isLittleEndian,\n        },\n      });\n    }\n    case Actions.LIST_ADD:\n    case Actions.LIST_SWAP:\n    case Actions.LIST_ITEM_UPDATE:\n    case Actions.LIST_DELETE:\n    case Actions.LIST_DELETE_ALL: {\n      let copy: ListState = {\n        list: [...state.persistent.entries.list],\n        nextId: state.persistent.entries.nextId,\n      }\n      copy = updateList(copy, action);\n\n      return updateErrors(buildOutput({\n        ...state,\n        persistent: {\n          ...state.persistent,\n          entries: copy,\n        },\n      }));\n    }\n\n    case Actions.SET_STATE: {\n      let payload: State = (action as Actions.SetStateAction).payload;\n      return updateErrors(buildOutput({\n        ...payload,\n        updateCounter: state.updateCounter,\n        parsedFormat: parseFormatString(payload.persistent.format.value),\n      }));\n    }\n  }\n  return state;\n}\n\nfunction updateList(copy: ListState, action: Actions.Action): ListState {\n  // For nicer code this function is allowed to modify \"copy\"\n  switch (action.type) {\n    case Actions.LIST_ADD: {\n      let newEntry = StringUtils.defaultValues();\n      newEntry.pattern = \"A\".repeat(copy.list.length + 1);\n      copy.list.push({\n        key: copy.nextId,\n        data: newEntry\n      });\n      copy.nextId += 1;\n      return copy;\n    }\n    case Actions.LIST_SWAP: {\n      let payload = (action as Actions.ListSwapAction).payload;\n      let tmp = copy.list[payload.indexA];\n      copy.list[payload.indexA] = copy.list[payload.indexB];\n      copy.list[payload.indexB] = tmp;\n      return copy;\n    }\n    case Actions.LIST_ITEM_UPDATE: {\n      let payload = (action as Actions.ListItemChangeAction).payload;\n      copy.list[payload.index] = {\n        key: copy.list[payload.index].key,\n        data: payload.newValue,\n      }\n      return copy;\n    }\n    case Actions.LIST_DELETE: {\n      let index = (action as Actions.ListDeleteAction).payload;\n      copy.list.splice(index, 1);\n      return copy;\n    }\n    case Actions.LIST_DELETE_ALL: {\n      return {\n        list: [],\n        nextId: 0,\n      };\n    }\n  }\n  throw new Error(\"Case not handled!\")\n}\n\nexport default reducer\n","import { createStore } from 'redux';\nimport { reducer } from './reducer';\nimport { AnyValues, BuilderResult } from '../hex/ByteStringBuilder';\nimport { DEFAULT_FORMAT_STATE, parseFormatString } from '../views/output/FormatChooser';\n\nexport interface State {\n  persistent: PersistentState,\n  updateCounter: number,\n  outputBuilderResult: BuilderResult,\n  parsedFormat: ParsedFormat,\n  hasErrors: boolean,\n}\n\nexport interface PersistentState {\n  isLittleEndian: boolean,\n  format: FormatState,\n  entries: ListState,\n}\n\nexport interface ListState {\n  list: ListEntry[],\n  nextId: number,\n}\n\nexport interface ListEntry {\n  key: number,\n  data: AnyValues,\n}\n\nexport interface FormatState {\n  selected: string,\n  value: string,\n  custom: string,\n}\n\nexport interface ParsedFormat {\n  errorMessage?: string,\n  format: string,\n  labels: string[],\n}\n\nexport const fallbackState: State = {\n  persistent: {\n    isLittleEndian: true,\n    format: DEFAULT_FORMAT_STATE,\n    entries: {\n      list: [],\n      nextId: 0,\n    },\n  },\n  updateCounter: 0,\n  outputBuilderResult: {\n    byteStrings: [],\n  },\n  parsedFormat: parseFormatString(DEFAULT_FORMAT_STATE.value),\n  hasErrors: false,\n}\n\nlet devTools = undefined;\nif ((window as any).__REDUX_DEVTOOLS_EXTENSION__) {\n  // Redux dev tools are available\n  let devToolOptions = {\n    trace: false,\n    traceLimit: 25\n  };\n  devTools = (window as any).__REDUX_DEVTOOLS_EXTENSION__(devToolOptions);\n}\n\nexport const store = createStore(reducer, fallbackState, devTools);\n","import { State, PersistentState, fallbackState } from './store';\nimport { uriSafeDecode, uriSafeEncode } from '../hex/Escaper';\nimport { AnyValues } from '../hex/ByteStringBuilder';\nimport { store } from './store';\nimport { setState } from './actions';\n\ninterface MinimizedState {\n  le: boolean,\n  f: {\n    s: string,\n    v: string,\n    c: string,\n  },\n  l: AnyValues[],//TODO compress this\n}\n\nlet currentHash = \"\";\n\nexport function hashChangeListener() {\n  if (window.location.hash !== currentHash) {\n    currentHash = window.location.hash;\n    console.log(\"Hash changed externally, let's import the new state\");\n    tryImportFromUri();\n  } else {\n    console.debug(\"Hash changed, but the app did it\");\n  }\n}\n\nfunction minimizeState(s: PersistentState): MinimizedState {\n  return {\n    le: s.isLittleEndian,\n    f: {\n      s: s.format.selected,\n      v: s.format.value,\n      c: s.format.custom,\n    },\n    l: s.entries.list.map((x: any) => x.data),\n  }\n}\n\nfunction unminimizeState(min: MinimizedState): State {\n  let list = min.l.map(\n    (data: AnyValues, index: number) => { return { key: index, data: data } }\n  );\n  return {\n    ...fallbackState,\n    persistent: {\n      isLittleEndian: min.le,\n      format: {\n        selected: min.f.s,\n        value: min.f.v,\n        custom: min.f.c,\n      },\n      entries: {\n        list: list,\n        nextId: list.length,\n      }\n    }\n  }\n}\n\n\n// Changes the hash part of the current url as a sideeffect\nexport function exportToUri(): string {\n  let stateString = serialize(store.getState().persistent);\n\n  // take the current url and set the import param to our current state\n  const newHash = \"#state=\" + stateString;\n\n  // Update the current url\n  currentHash = newHash;// Do this before we change the hash, so we do not import the state\n  window.location.hash = newHash;\n  return window.location.href;\n}\n\n\nexport function tryImportFromUri(): boolean {\n  if (window.location.hash) {\n    // To avoid undefined edge cases just parse it like a normal url\n    const mockUrl = \"http://example.com/?\" + window.location.hash.slice(1);\n    const url = new URL(mockUrl); // parse mock url\n    const data = url.searchParams.get(\"state\");\n    if (data) {\n      return tryImportFromString(data);\n    }\n  }\n  console.log(\"URI does not contain data to import\");\n  return false;\n}\n\nexport function tryImportFromString(data: string): boolean {\n  try {\n    const state = deserialize(data);\n    store.dispatch(setState(state));\n    return true;\n  } catch (e) {\n    console.error(\"Loading state failed:\", e);\n    return false;\n  }\n}\n\n\nexport function serialize(state: PersistentState): string {\n  let min = minimizeState(state);\n  // console.log(\"exported state\", min);\n  return uriSafeEncode(JSON.stringify(min));\n}\n\nexport function deserialize(data: string): State {\n  try {\n    let jsonText = tryOrMessage(() => uriSafeDecode(data), `Decoding base64 failed\\nBase64 text: '${data}'`);\n    let deserialized = tryOrMessage(() => JSON.parse(jsonText), `Decoding JSON failed!\\nJSON: ${jsonText}`);\n    let min = deserialized as MinimizedState;\n    if (!min) {\n      throw new Error(\"Missing keys in decoded JSON\");\n    }\n    //TODO check if it matches the type\n    return unminimizeState(min);\n  } catch (error) {\n    throw new Error(`deserialize failed: ${error}`)\n  }\n}\n\nfunction tryOrMessage(fn: () => any, message: string): any {\n  try {\n    return fn();\n  } catch (error) {\n    throw new Error(`${message}\\n\\nCaused by '${error}'`);\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State as ReduxState } from '../../redux/store';\nimport { exportToUri } from '../../redux/persistence';\n\nclass ExportUriView_ extends React.Component<Props> {\n  render() {\n    const url = exportToUri();\n\n    return <span>\n      You can return to the current state (or share it with someone) by visiting:\n      <br /><br />\n      {url}\n      <br /><br />\n      <b>{\"[Warning] This software is still under development, so I might change/break the format sometimes.\"}</b>\n    </span>;\n  }\n}\n\n\nexport interface Props {\n  state: any,\n  // updatedClipbordManager: () => void,\n}\n\nconst mapStateToProps = (state: ReduxState, ownProps: any) => {\n  return {\n    ...ownProps,\n    state: state.persistent,\n  };\n};\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n    // updatedClipbordManager: () => dispatch(updatedClipbordManager()),\n  };\n};\n\nconst ExportUriView = connect(mapStateToProps, mapDispatchToProps)(ExportUriView_);\nexport default ExportUriView;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport './css/App.scss';\nimport InputTable from './app/views/input/InputTable';\nimport OutputView from './app/views/output/OutputView';\nimport ExportUriView from './app/views/output/ExportUriView';\nimport { State } from './app/redux/store';\n\n\n// TODO: next steps\n// start using SVG icons (for better privacy + performance)\n//   find out how to be complient to the license\n// add hexdump settings\n//  - improve output line breaks (and use monospaced font)?\n//  - better explain the state management to users\n//  - (opt) compress the json before base64\n//  - Fix names\n\nclass App_ extends React.Component<any> {\n  render() {\n    return (\n      <div className=\"app-root\">\n        <div id=\"input\">\n          <InputTable />\n        </div>\n        <div id=\"output\">\n          <OutputView />\n        </div>\n        <div id=\"export-link\" className=\"export-link\">\n          <ExportUriView />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: State, ownProps: any) => {\n  return {\n    ...ownProps,\n  };\n};\nconst mapDispatchToProps = (dispatch: any) => {\n  return {\n  };\n};\n\nexport const App = connect(mapStateToProps, mapDispatchToProps)(App_);\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {store} from './app/redux/store';\nimport {tryImportFromUri, tryImportFromString, hashChangeListener} from './app/redux/persistence';\n\nfunction importData(){\n  if (!tryImportFromUri()) {\n    console.info(\"Falling back on default values\");\n    const defaultValues = \"eyJsZSI6dHJ1ZSwiZiI6eyJzIjoiaGV4ZHVtcCIsInYiOiIlaCIsImMiOiJ5b3VyQ29tbWFuZCAtLWZsYWdzICcleCcifSwibCI6W3sicGF0dGVybiI6Ij09PSBRdWljayBzdGFydCBpbnN0cnVjdGlvbnMgPT09IiwicmVwZWF0Q291bnQiOjEsInR5cGUiOiJTdHJpbmcifSx7InBhdHRlcm4iOiIgLSBJbnB1dCBub24gYXNjaWkgY2hhcnMgbGlrZSB0aGlzOiBcXHg_PyB3aGVyZSA_PyBpcyB0aGUgaGV4IGNvZGUgb2YgdGhlIGNoYXIiLCJyZXBlYXRDb3VudCI6MSwidHlwZSI6IlN0cmluZyJ9LHsicGF0dGVybiI6IiAgIEFsbCBvdGhlciBiYWNrc2xhc2hlcyBhcmUgZXNjYXBlZC4gU28gdXNlICdcXHgwYScgaW5zdGVhZCBvZiAnXFxuJyEiLCJyZXBlYXRDb3VudCI6MSwidHlwZSI6IlN0cmluZyJ9LHsicGF0dGVybiI6IiAtIFlvdSBjYW4gYWRkIHBhZGRpbmcgbGlrZSBiZWxvdzoiLCJyZXBlYXRDb3VudCI6MSwidHlwZSI6IlN0cmluZyJ9LHsicGF0dGVybiI6IlxceDkwIiwicGFkZFRvTGVuZ3RoIjoiMHgxMDAiLCJ0eXBlIjoiUGFkZGluZyJ9LHsicGF0dGVybiI6IiAtIFlvdSBjYW4gcHV0IGFuIGFkZHJlc3MgaW50byBtZW1vcnkgbGlrZSBiZWxvdzoiLCJyZXBlYXRDb3VudCI6MSwidHlwZSI6IlN0cmluZyJ9LHsibnVtYmVyU3RyaW5nIjoiMHgxMjM0NTY3OCIsIm51bWJlclR5cGUiOiIzMiBiaXQiLCJ0eXBlIjoiSW50ZWdlciJ9LHsicGF0dGVybiI6IiAtIFlvdSBjYW4gc2VlIHRoZSBvdXRwdXQgaW4gdGhlIGJveCBiZWxvdyIsInJlcGVhdENvdW50IjoxLCJ0eXBlIjoiU3RyaW5nIn0seyJwYXR0ZXJuIjoiICAgVGhlcmUgYXJlIG11bHRpcGxlIHN1cHBvcnRlZCBvdXRwdXQgZm9ybWF0cyIsInJlcGVhdENvdW50IjoxLCJ0eXBlIjoiU3RyaW5nIn1dfQ\";\n    if (!tryImportFromString(defaultValues)) {\n      alert(\"[Bug/Compat breaking change] Parsing hardcoded initial state failed\");\n    }\n  }\n}\n\nimportData();\nwindow.addEventListener(\"hashchange\", hashChangeListener);\n\nReactDOM.render(\n  <React.StrictMode>\n     <Provider store={store}>\n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}